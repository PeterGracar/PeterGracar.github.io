<!DOCTYPE html><html lang="en-GB">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)</title>
<!--Generated on Tue Dec  3 15:06:01 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on December 3, 2024.-->
<style>:root { --bml-ltx-font-size: 10.95; }</style>
<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-article.css" type="text/css">
<link rel="stylesheet" href="ltx-amsart.css" type="text/css">
<link rel="stylesheet" href="bookml/gitbook/css/style.css" type="text/css">
<link rel="stylesheet" href="bookml/gitbook/css/plugin-table.css" type="text/css">
<link rel="stylesheet" href="bookml/gitbook/css/plugin-search.css" type="text/css">
<link rel="stylesheet" href="bookml/gitbook/css/plugin-bookdown.css" type="text/css">
<link rel="stylesheet" href="bookml/gitbook/css/plugin-fontsettings.css" type="text/css">
<link rel="stylesheet" href="bookml/CSS/style.css" type="text/css">
<link rel="stylesheet" href="bookml/CSS/style.gitbook,plain.css" type="text/css">
<link rel="stylesheet" href="bookml/CSS/style.gitbook.css" type="text/css">
<link rel="stylesheet" href="bmluser/colors.gitbook-DiscreteTimeFinance.css" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6"></script>
<link rel="up" href="index.html" title="Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="start" href="index.html" title="Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="prev" href="Pt6.html" title="Lecture VI 05/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="next" href="Pt8.html" title="Lecture VIII 19/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt1.html" title="Lecture I 01/10/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt2.html" title="Lecture II 08/10/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt3.html" title="Lecture III 15/10/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt4.html" title="Lecture IV 22/10/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt5.html" title="Lecture V 29/10/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt6.html" title="Lecture VI 05/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt8.html" title="Lecture VIII 19/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt9.html" title="Lecture IX 26/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Pt10.html" title="Lecture X 03/12/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Ptx1.html" title="Extra reading (non-examinable) ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
<link rel="part" href="Ptx2.html" title="Literature list ‣ Lecture notes: Discrete Time Finance (MATH5320M)">
</head>
<body>
<div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">
<a href="#bml-main-content" tabindex="0" class="bml-skip-to-content">Skip to content.</a>
<div class="book-summary"><nav class="ltx_page_navbar">
<ul class="ltx_toclist summary">
<li>
<a href="index.html" title="" class="ltx_ref" rel="start">Lecture notes: Discrete Time Finance (MATH5320M)</a>
</li>
<li class="divider">
<li data-level="I" data-path="Pt1.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt1.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">I </span></b>01/10/2024</a></li>
<li data-level="II" data-path="Pt2.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt2.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">II </span></b>08/10/2024</a></li>
<li data-level="III" data-path="Pt3.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt3.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">III </span></b>15/10/2024</a></li>
<li data-level="IV" data-path="Pt4.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt4.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">IV </span></b>22/10/2024</a></li>
<li data-level="V" data-path="Pt5.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt5.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">V </span></b>29/10/2024</a></li>
<li data-level="VI" data-path="Pt6.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt6.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">VI </span></b>05/11/2024</a></li>
<li data-level="VII" data-path="" class="ltx_tocentry ltx_tocentry_part ltx_ref_self  chapter active">
<a href="" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">VII </span></b>12/11/2024</a>
<ol class="ltx_toclist ltx_toclist_part">
<li data-level="2.6" data-path="" class="ltx_tocentry ltx_tocentry_subsection  chapter "><a href="#S2.SS6" title="In Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">2.6 </span></b>The Binomial Asset Pricing Model</a></li>
<li data-level="3" data-path="" class="ltx_tocentry ltx_tocentry_section  chapter ">
<a href="#S3" title="In Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">3 </span></b>Investment</a>
<ol class="ltx_toclist ltx_toclist_section">
<li data-level="3.1" data-path="" class="ltx_tocentry ltx_tocentry_subsection  chapter "><a href="#S3.SS1" title="In 3. Investment ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">3.1 </span></b>Single Period Investment</a></li>
</ol>
</li>
</ol>
</li>
<li data-level="VIII" data-path="Pt8.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt8.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">VIII </span></b>19/11/2024</a></li>
<li data-level="IX" data-path="Pt9.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt9.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">IX </span></b>26/11/2024</a></li>
<li data-level="X" data-path="Pt10.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Pt10.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><b><span class="ltx_tag ltx_tag_ref">X </span></b>03/12/2024</a></li>
<li data-level="" data-path="Ptx1.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Ptx1.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref">Extra reading (non-examinable)</a></li>
<li data-level="" data-path="Ptx2.html" class="ltx_tocentry ltx_tocentry_part  chapter "><a href="Ptx2.html" title="In Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref">Literature list</a></li>
</ul>
</nav></div>
<div class="ltx_page_main book-body fixed">
<div class="body-inner">
<div class="book-header fixed" role="navigation"><h1>12/11/2024</h1></div>
<div class="page-wrapper" tabindex="-1" role="main">
<div class="ltx_page_content page-inner" id="bml-main-content">
<section class="ltx_part normal" lang="en-GB">
<div class="section level1">

<h1 class="ltx_title ltx_title_part">
<span class="ltx_tag ltx_tag_part header-section-number">Lecture VII</span> 12/11/2024</h1>

<section id="S2.SS6" class="ltx_subsection normal">
<div class="section level3">

<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection header-section-number">2.6</span>. The Binomial Asset Pricing Model</h3>

<div id="S2.SS6.p1" class="ltx_para">
<p class="ltx_p">The most important multi period discrete time market model is the
<span class="ltx_text ltx_font_bold">binomial asset pricing model</span>, which we discuss in this
section. This model is often called the <span class="ltx_text ltx_font_bold">Cox-Ross-Rubinstein
model</span> and abbreviated to <span class="ltx_text ltx_font_bold">CRR model</span>. The binomial market
model is the concatenation of several elementary single period
market models, as discussed in section <a href="Pt1.html#S1.SS1" title="1.1. The most elementary market model ‣ 1. Single-Period Market Models ‣ Lecture I 01/10/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1.1</span></a>. We assume here
that we have one stock <math id="S2.SS6.p1.m1" class="ltx_Math" alttext="(S_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>S</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(S_{t})</annotation></semantics></math> and one money market account <math id="S2.SS6.p1.m2" class="ltx_Math" alttext="(B_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>B</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(B_{t})</annotation></semantics></math>,
but a generalization to the case of more then one stock is possible.
At each point in time when the stock price is <math id="S2.SS6.p1.m3" class="ltx_Math" alttext="S_{t}" display="inline"><semantics><msub><mi>S</mi><mi>t</mi></msub><annotation encoding="application/x-tex">S_{t}</annotation></semantics></math>, there are two possible outcomes for the stock price in the next period: <math id="S2.SS6.p1.m4" class="ltx_Math" alttext="uS_{t}" display="inline"><semantics><mrow><mi>u</mi><mo>⁢</mo><msub><mi>S</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">uS_{t}</annotation></semantics></math>, or <math id="S2.SS6.p1.m5" class="ltx_Math" alttext="dS_{t}" display="inline"><semantics><mrow><mi>d</mi><mo>⁢</mo><msub><mi>S</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">dS_{t}</annotation></semantics></math>, <math id="S2.SS6.p1.m6" class="ltx_Math" alttext="u,d&gt;0" display="inline"><semantics><mrow><mrow><mi>u</mi><mo>,</mo><mi>d</mi></mrow><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">u,d&gt;0</annotation></semantics></math>. Typically <math id="S2.SS6.p1.m7" class="ltx_Math" alttext="u&gt;1" display="inline"><semantics><mrow><mi>u</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">u&gt;1</annotation></semantics></math> and <math id="S2.SS6.p1.m8" class="ltx_Math" alttext="0&lt;d&lt;1" display="inline"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>d</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0&lt;d&lt;1</annotation></semantics></math>. In order to guarantee that the model is arbitrage free we require that <math id="S2.SS6.p1.m9" class="ltx_Math" alttext="d&lt;1+r&lt;u" display="inline"><semantics><mrow><mi>d</mi><mo>&lt;</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo>&lt;</mo><mi>u</mi></mrow><annotation encoding="application/x-tex">d&lt;1+r&lt;u</annotation></semantics></math>. The
probability of an up move (the probability at the arrow) is assumed
to be the same <math id="S2.SS6.p1.m10" class="ltx_Math" alttext="0&lt;p&lt;1" display="inline"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>p</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0&lt;p&lt;1</annotation></semantics></math> for each period, and is assumed to be
independent of all previous stock price movements. A sample two
period binomial model in presented in Figure <a href="#S2.F3" title="Figure 3 ‣ 2.6. The Binomial Asset Pricing Model ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure id="S2.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel">t</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="S2.SS6.Ex1" class="ltx_equation ltx_figure_panel ltx_eqn_div">
<span><img src="bmlimages/DiscreteTimeFinance-13.svg" alt="Two period binomial asset pricing model" id="S2.SS6.Ex1.m1.g1" class="ltx_graphics ltx_markedasmath ltx_img_square" width="210" height="257"></span>
</div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Two period binomial asset pricing model</figcaption>
</figure>
<div id="S2.SS6.Thmtheorem1" class="ltx_theorem ltx_theorem_definition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Definition 2.6.1</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.SS6.Thmtheorem1.p1" class="ltx_para">
<p class="ltx_p">A stochastic process <math id="S2.SS6.Thmtheorem1.p1.m1" class="ltx_Math" alttext="(X_{t})_{1\leq t\leq T}" display="inline"><semantics><msub><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mi>T</mi></mrow></msub><annotation encoding="application/x-tex">(X_{t})_{1\leq t\leq T}</annotation></semantics></math> on a probability
space <math id="S2.SS6.Thmtheorem1.p1.m2" class="ltx_Math" alttext="(\Omega,\mathbb{P})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo>,</mo><mi>ℙ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\Omega,\mathbb{P})</annotation></semantics></math> is called a Bernoulli process with
parameter <math id="S2.SS6.Thmtheorem1.p1.m3" class="ltx_Math" alttext="p" display="inline"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math> (<math id="S2.SS6.Thmtheorem1.p1.m4" class="ltx_Math" alttext="0\leq p\leq 1" display="inline"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>p</mi><mo>≤</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\leq p\leq 1</annotation></semantics></math>), if the random variables
<math id="S2.SS6.Thmtheorem1.p1.m5" class="ltx_Math" alttext="X_{1},X_{2},X_{3},...,X_{T}" display="inline"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo>,</mo><msub><mi>X</mi><mn>2</mn></msub><mo>,</mo><msub><mi>X</mi><mn>3</mn></msub><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><msub><mi>X</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">X_{1},X_{2},X_{3},...,X_{T}</annotation></semantics></math> are independent and</p>
<div id="S2.SS6.Ex2" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex2.m1" class="ltx_math_unparsed" alttext="\boxed{\mathbb{P}(X_{t}=1)=1-\mathbb{P}(X_{t}=0)=p,\qquad t=0,1,\ldots,T.}" display="block"><semantics><menclose notation="box"><mrow><mi>ℙ</mi><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>t</mi></msub><mo>=</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mo>=</mo><mn>1</mn><mo>−</mo><mi>ℙ</mi><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>t</mi></msub><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mo>=</mo><mi>p</mi><mo rspace="2.357em">,</mo><mi>t</mi><mo>=</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><mi>T</mi><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{\mathbb{P}(X_{t}=1)=1-\mathbb{P}(X_{t}=0)=p,\qquad t=0,1,\ldots,T.}</annotation></semantics></math></span>
</div>
<p class="ltx_p">The Bernoulli counting process <math id="S2.SS6.Thmtheorem1.p1.m6" class="ltx_Math" alttext="(N_{t})_{1\leq t\leq T}" display="inline"><semantics><msub><mrow><mo stretchy="false">(</mo><msub><mi>N</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mi>T</mi></mrow></msub><annotation encoding="application/x-tex">(N_{t})_{1\leq t\leq T}</annotation></semantics></math> is defined
via</p>
<div id="S2.SS6.Ex3" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex3.m1" class="ltx_math_unparsed" alttext="\boxed{N_{t}(\omega):=X_{1}(\omega)+X_{2}(\omega)+...+X_{t}(\omega),\qquad%
\omega\in\Omega.}" display="block"><semantics><menclose notation="box"><mrow><msub><mi>N</mi><mi>t</mi></msub><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo rspace="0.278em" stretchy="false">)</mo></mrow><mo rspace="0.278em">:=</mo><msub><mi>X</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow><mo>+</mo><msub><mi>X</mi><mn>2</mn></msub><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow><mo>+</mo><mi mathvariant="normal">…</mi><mo>+</mo><msub><mi>X</mi><mi>t</mi></msub><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow><mo rspace="2.357em">,</mo><mi>ω</mi><mo>∈</mo><mi mathvariant="normal">Ω</mi><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{N_{t}(\omega):=X_{1}(\omega)+X_{2}(\omega)+...+X_{t}(\omega),\qquad%
\omega\in\Omega.}</annotation></semantics></math></span>
</div>
</div>
</div>
<div id="S2.SS6.p2" class="ltx_para">
<p class="ltx_p">Using the Bernoulli counting process, the stock price process in the
binomial model is defined via a deterministic initial value <math id="S2.SS6.p2.m1" class="ltx_Math" alttext="S_{0}" display="inline"><semantics><msub><mi>S</mi><mn>0</mn></msub><annotation encoding="application/x-tex">S_{0}</annotation></semantics></math>
and for <math id="S2.SS6.p2.m2" class="ltx_Math" alttext="1\leq t\leq T" display="inline"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">1\leq t\leq T</annotation></semantics></math></p>
<div id="S2.SS6.E1" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.E1.m1" class="ltx_math_unparsed" alttext="\boxed{S_{t}(\omega):=S_{0}u^{N_{t}(\omega)}d^{t-N_{t}(\omega)},\qquad\omega%
\in\Omega.}" display="block"><semantics><menclose notation="box"><mrow><msub><mi>S</mi><mi>t</mi></msub><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo rspace="0.278em" stretchy="false">)</mo></mrow><mo rspace="0.278em">:=</mo><msub><mi>S</mi><mn>0</mn></msub><msup><mi>u</mi><mrow><msub><mi>N</mi><mi>t</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow></msup><msup><mi>d</mi><mrow><mi>t</mi><mo>−</mo><mrow><msub><mi>N</mi><mi>t</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></msup><mo rspace="2.357em">,</mo><mi>ω</mi><mo>∈</mo><mi mathvariant="normal">Ω</mi><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{S_{t}(\omega):=S_{0}u^{N_{t}(\omega)}d^{t-N_{t}(\omega)},\qquad\omega%
\in\Omega.}</annotation></semantics></math></span>
            <span class="ltx_tag ltx_tag_equation ltx_align_right">(2.6.1)</span>
            
            
          
</div>
<p class="ltx_p">The idea behind this construction is that the Bernoulli process
<math id="S2.SS6.p2.m3" class="ltx_Math" alttext="(X_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X_{t})</annotation></semantics></math> determines the up and down movements of the stock. The stock
price moves up at time <math id="S2.SS6.p2.m4" class="ltx_Math" alttext="t" display="inline"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math> if <math id="S2.SS6.p2.m5" class="ltx_Math" alttext="X_{t}(\omega)=1" display="inline"><semantics><mrow><mrow><msub><mi>X</mi><mi>t</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">X_{t}(\omega)=1</annotation></semantics></math> and moves down if
<math id="S2.SS6.p2.m6" class="ltx_Math" alttext="X_{t}(\omega)=0" display="inline"><semantics><mrow><mrow><msub><mi>X</mi><mi>t</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">X_{t}(\omega)=0</annotation></semantics></math>. The Bernoulli counting process <math id="S2.SS6.p2.m7" class="ltx_Math" alttext="(N_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>N</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(N_{t})</annotation></semantics></math> counts the
up movements. Before and including time <math id="S2.SS6.p2.m8" class="ltx_Math" alttext="t" display="inline"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>, the stock price has
moved up <math id="S2.SS6.p2.m9" class="ltx_Math" alttext="N_{t}" display="inline"><semantics><msub><mi>N</mi><mi>t</mi></msub><annotation encoding="application/x-tex">N_{t}</annotation></semantics></math> times, and it has moved down <math id="S2.SS6.p2.m10" class="ltx_Math" alttext="t-N_{t}" display="inline"><semantics><mrow><mi>t</mi><mo>−</mo><msub><mi>N</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">t-N_{t}</annotation></semantics></math> times. Assuming
that the stock price can only move up resp. down by the factors <math id="S2.SS6.p2.m11" class="ltx_Math" alttext="u" display="inline"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math>
resp. <math id="S2.SS6.p2.m12" class="ltx_Math" alttext="d" display="inline"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math> we obtain equation (<a href="#S2.SS6.E1" title="In 2.6. The Binomial Asset Pricing Model ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.6.1</span></a>). Why is this model called the
binomial model? The reason is that for each <math id="S2.SS6.p2.m13" class="ltx_Math" alttext="t" display="inline"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math> the random variable
<math id="S2.SS6.p2.m14" class="ltx_Math" alttext="N_{t}" display="inline"><semantics><msub><mi>N</mi><mi>t</mi></msub><annotation encoding="application/x-tex">N_{t}</annotation></semantics></math> has a binomial distribution with parameters <math id="S2.SS6.p2.m15" class="ltx_Math" alttext="(p,t)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi>p</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(p,t)</annotation></semantics></math>, i.e.</p>
<div id="S2.SS6.Ex4" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex4.m1" class="ltx_math_unparsed" alttext="\boxed{\mathbb{P}(N_{t}=k)=\binom{t}{k}p^{k}(1-p)^{t-k}.}" display="block"><semantics><menclose notation="box"><mrow><mi>ℙ</mi><mrow><mo stretchy="false">(</mo><msub><mi>N</mi><mi>t</mi></msub><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>t</mi><mi>k</mi></mfrac><mo>)</mo></mrow><msup><mi>p</mi><mi>k</mi></msup><msup><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mrow><mi>t</mi><mo>−</mo><mi>k</mi></mrow></msup><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{\mathbb{P}(N_{t}=k)=\binom{t}{k}p^{k}(1-p)^{t-k}.}</annotation></semantics></math></span>
</div>
</div>
<div id="S2.SS6.p3" class="ltx_para">
<p class="ltx_p">The distribution of the stock price at time <math id="S2.SS6.p3.m1" class="ltx_Math" alttext="t" display="inline"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math> is then</p>
<div id="S2.SS6.E2" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.E2.m1" class="ltx_math_unparsed" alttext="\boxed{\mathbb{P}(S_{t}=S_{0}u^{k}d^{t-k})=\binom{t}{k}p^{k}(1-p)^{t-k},\qquad
k%
=0,1,...,t.}" display="block"><semantics><menclose notation="box"><mrow><mi>ℙ</mi><mrow><mo stretchy="false">(</mo><msub><mi>S</mi><mi>t</mi></msub><mo>=</mo><msub><mi>S</mi><mn>0</mn></msub><msup><mi>u</mi><mi>k</mi></msup><msup><mi>d</mi><mrow><mi>t</mi><mo>−</mo><mi>k</mi></mrow></msup><mo stretchy="false">)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>t</mi><mi>k</mi></mfrac><mo>)</mo></mrow><msup><mi>p</mi><mi>k</mi></msup><msup><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mrow><mi>t</mi><mo>−</mo><mi>k</mi></mrow></msup><mo rspace="2.357em">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><mi>t</mi><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{\mathbb{P}(S_{t}=S_{0}u^{k}d^{t-k})=\binom{t}{k}p^{k}(1-p)^{t-k},\qquad
k%
=0,1,...,t.}</annotation></semantics></math></span>
            <span class="ltx_tag ltx_tag_equation ltx_align_right">(2.6.2)</span>
            
            
          
</div>
<p class="ltx_p">It can be shown, that the filtration <math id="S2.SS6.p3.m2" class="ltx_Math" alttext="(\mathcal{F}_{t}^{S})_{0\leq t\leq T}" display="inline"><semantics><msub><mrow><mo stretchy="false">(</mo><msubsup><mi class="ltx_font_mathcaligraphic">ℱ</mi><mi>t</mi><mi>S</mi></msubsup><mo stretchy="false">)</mo></mrow><mrow><mn>0</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mi>T</mi></mrow></msub><annotation encoding="application/x-tex">(\mathcal{F}_{t}^{S})_{0\leq t\leq T}</annotation></semantics></math> generated by <math id="S2.SS6.p3.m3" class="ltx_Math" alttext="(S_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>S</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(S_{t})</annotation></semantics></math> is the same as the filtration
<math id="S2.SS6.p3.m4" class="ltx_Math" alttext="(\mathcal{F}_{t}^{X})_{0\leq t\leq T}" display="inline"><semantics><msub><mrow><mo stretchy="false">(</mo><msubsup><mi class="ltx_font_mathcaligraphic">ℱ</mi><mi>t</mi><mi>X</mi></msubsup><mo stretchy="false">)</mo></mrow><mrow><mn>0</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mi>T</mi></mrow></msub><annotation encoding="application/x-tex">(\mathcal{F}_{t}^{X})_{0\leq t\leq T}</annotation></semantics></math> generated by the Bernoulli
process, where <math id="S2.SS6.p3.m5" class="ltx_Math" alttext="\mathcal{F}_{0}^{X}" display="inline"><semantics><msubsup><mi class="ltx_font_mathcaligraphic">ℱ</mi><mn>0</mn><mi>X</mi></msubsup><annotation encoding="application/x-tex">\mathcal{F}_{0}^{X}</annotation></semantics></math> is the trivial <math id="S2.SS6.p3.m6" class="ltx_Math" alttext="\sigma" display="inline"><semantics><mi>σ</mi><annotation encoding="application/x-tex">\sigma</annotation></semantics></math>-algebra by
definition. The money market account <math id="S2.SS6.p3.m7" class="ltx_Math" alttext="(B_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>B</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(B_{t})</annotation></semantics></math> is as usual assumed to
be defined via <math id="S2.SS6.p3.m8" class="ltx_Math" alttext="B_{0}=1" display="inline"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">B_{0}=1</annotation></semantics></math> and</p>
<div id="S2.SS6.E3" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.E3.m1" class="ltx_math_unparsed" alttext="\boxed{B_{t}=(1+r)^{t}.}" display="block"><semantics><menclose notation="box"><mrow><msub><mi>B</mi><mi>t</mi></msub><mo>=</mo><msup><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><mi>t</mi></msup><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{B_{t}=(1+r)^{t}.}</annotation></semantics></math></span>
            <span class="ltx_tag ltx_tag_equation ltx_align_right">(2.6.3)</span>
            
            
          
</div>
</div>
<div id="S2.SS6.Thmtheorem2" class="ltx_theorem ltx_theorem_definition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Definition 2.6.2</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.SS6.Thmtheorem2.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_bold">binomial market model</span> with parameters <math id="S2.SS6.Thmtheorem2.p1.m1" class="ltx_Math" alttext="p,u,d" display="inline"><semantics><mrow><mi>p</mi><mo>,</mo><mi>u</mi><mo>,</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">p,u,d</annotation></semantics></math> (<math id="S2.SS6.Thmtheorem2.p1.m2" class="ltx_Math" alttext="0&lt;p&lt;1" display="inline"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>p</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0&lt;p&lt;1</annotation></semantics></math>, <math id="S2.SS6.Thmtheorem2.p1.m3" class="ltx_Math" alttext="u\geq d&gt;0" display="inline"><semantics><mrow><mi>u</mi><mo>≥</mo><mi>d</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">u\geq d&gt;0</annotation></semantics></math>) and time horizon <math id="S2.SS6.Thmtheorem2.p1.m4" class="ltx_Math" alttext="[0,T]" display="inline"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mi>T</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,T]</annotation></semantics></math> on a probability space
<math id="S2.SS6.Thmtheorem2.p1.m5" class="ltx_Math" alttext="(\Omega,\mathbb{P})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo>,</mo><mi>ℙ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\Omega,\mathbb{P})</annotation></semantics></math> is the multi period market model consisting
of one stock and one money market account, where the stock price
evolution is described by equation (<a href="#S2.SS6.E1" title="In 2.6. The Binomial Asset Pricing Model ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.6.1</span></a>) and the money market
account by (<a href="#S2.SS6.E3" title="In 2.6. The Binomial Asset Pricing Model ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.6.3</span></a>). The filtration is assumed to be the filtration
<math id="S2.SS6.Thmtheorem2.p1.m6" class="ltx_Math" alttext="(\mathcal{F}_{t}^{S})_{0\leq t\leq T}" display="inline"><semantics><msub><mrow><mo stretchy="false">(</mo><msubsup><mi class="ltx_font_mathcaligraphic">ℱ</mi><mi>t</mi><mi>S</mi></msubsup><mo stretchy="false">)</mo></mrow><mrow><mn>0</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mi>T</mi></mrow></msub><annotation encoding="application/x-tex">(\mathcal{F}_{t}^{S})_{0\leq t\leq T}</annotation></semantics></math> generated by <math id="S2.SS6.Thmtheorem2.p1.m7" class="ltx_Math" alttext="(S_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>S</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(S_{t})</annotation></semantics></math>.</p>
</div>
</div>
<div id="S2.SS6.p4" class="ltx_para">
<p class="ltx_p">Given a binomial market model, the constituting Bernoulli process
<math id="S2.SS6.p4.m1" class="ltx_Math" alttext="(X_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X_{t})</annotation></semantics></math> can be regained from the stock prices as follows: Clearly
<math id="S2.SS6.p4.m2" class="ltx_Math" alttext="X_{t}=N_{t}-N_{t-1}" display="inline"><semantics><mrow><msub><mi>X</mi><mi>t</mi></msub><mo>=</mo><mrow><msub><mi>N</mi><mi>t</mi></msub><mo>−</mo><msub><mi>N</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></mrow><annotation encoding="application/x-tex">X_{t}=N_{t}-N_{t-1}</annotation></semantics></math>. Then</p>
<div class="bml-overflow-wrapper">
<table id="S4.EGx26" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S2.SS6.Ex5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.SS6.Ex5.m1" class="ltx_Math" alttext="\displaystyle\frac{S_{t}}{S_{t-1}}" display="inline"><semantics><mstyle displaystyle="true"><mfrac><msub><mi>S</mi><mi>t</mi></msub><msub><mi>S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mfrac></mstyle><annotation encoding="application/x-tex">\displaystyle\frac{S_{t}}{S_{t-1}}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex5.m2" class="ltx_Math" alttext="\displaystyle=\frac{S_{0}u^{N_{t}}d^{t-N_{t}}}{S_{0}u^{N_{t-1}}d^{{t-1}-{N_{t-%
1}}}}" display="inline"><semantics><mrow><mi></mi><mo>=</mo><mstyle displaystyle="true"><mfrac><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>u</mi><msub><mi>N</mi><mi>t</mi></msub></msup><mo>⁢</mo><msup><mi>d</mi><mrow><mi>t</mi><mo>−</mo><msub><mi>N</mi><mi>t</mi></msub></mrow></msup></mrow><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>u</mi><msub><mi>N</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></msup><mo>⁢</mo><msup><mi>d</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn><mo>−</mo><msub><mi>N</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></msup></mrow></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\displaystyle=\frac{S_{0}u^{N_{t}}d^{t-N_{t}}}{S_{0}u^{N_{t-1}}d^{{t-1}-{N_{t-%
1}}}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex6.m1" class="ltx_Math" alttext="\displaystyle=u^{N_{t}-N_{t-1}}d^{1-(N_{t}-N_{t-1})}" display="inline"><semantics><mrow><mi></mi><mo>=</mo><mrow><msup><mi>u</mi><mrow><msub><mi>N</mi><mi>t</mi></msub><mo>−</mo><msub><mi>N</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></msup><mo>⁢</mo><msup><mi>d</mi><mrow><mn>1</mn><mo>−</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>N</mi><mi>t</mi></msub><mo>−</mo><msub><mi>N</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></msup></mrow></mrow><annotation encoding="application/x-tex">\displaystyle=u^{N_{t}-N_{t-1}}d^{1-(N_{t}-N_{t-1})}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex7.m1" class="ltx_Math" alttext="\displaystyle=u^{X_{t}}d^{1-X_{t}}" display="inline"><semantics><mrow><mi></mi><mo>=</mo><mrow><msup><mi>u</mi><msub><mi>X</mi><mi>t</mi></msub></msup><mo>⁢</mo><msup><mi>d</mi><mrow><mn>1</mn><mo>−</mo><msub><mi>X</mi><mi>t</mi></msub></mrow></msup></mrow></mrow><annotation encoding="application/x-tex">\displaystyle=u^{X_{t}}d^{1-X_{t}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex10.m1" class="ltx_Math" alttext="\displaystyle=\left\{\begin{array}[]{cc}u&amp;\mbox{ if }X_{t}(\omega)=1\\
d&amp;\mbox{ if }X_{t}(\omega)=0\end{array}\right.." display="inline"><semantics><mrow><mrow><mi></mi><mo>=</mo><mrow><mo>{</mo><mtable columnspacing="5pt" rowspacing="0pt"><mtr><mtd><mi>u</mi></mtd><mtd><mrow><mrow><mtext> if </mtext><mo>⁢</mo><msub><mi>X</mi><mi>t</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>1</mn></mrow></mtd></mtr><mtr><mtd><mi>d</mi></mtd><mtd><mrow><mrow><mtext> if </mtext><mo>⁢</mo><msub><mi>X</mi><mi>t</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow></mtd></mtr></mtable><mi></mi></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\displaystyle=\left\{\begin{array}[]{cc}u&amp;\mbox{ if }X_{t}(\omega)=1\\
d&amp;\mbox{ if }X_{t}(\omega)=0\end{array}\right..</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div id="S2.SS6.p5" class="ltx_para">
<p class="ltx_p">Is the binomial market model arbitrage free?</p>
</div>
<div id="S2.SS6.Thmtheorem3" class="ltx_theorem ltx_theorem_proposition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Proposition 2.6.3</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.SS6.Thmtheorem3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The binomial market model is arbitrage free if and only if <math id="S2.SS6.Thmtheorem3.p1.m1" class="ltx_Math" alttext="d&lt;1+r&lt;u" display="inline"><semantics><mrow><mi>d</mi><mo>&lt;</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo>&lt;</mo><mi>u</mi></mrow><annotation encoding="application/x-tex">d&lt;1+r&lt;u</annotation></semantics></math>. Moreover, if it is arbitrage free, then it is complete.</span></p>
</div>
</div>
<div id="S2.SS6.p6" class="ltx_para">
<p class="ltx_p">The above proposition can be easily proved with the methods
developed in Example <a href="Pt6.html#S2.SS4.Thmtheorem8" title="Example 2.4.8. ‣ 2.4. Risk neutral probability measures: arbitrage and pricing ‣ Lecture VI 05/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.4.8</span></a>. We can also use:</p>
</div>
<div id="S2.SS6.Thmtheorem4" class="ltx_theorem ltx_theorem_proposition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Proposition 2.6.4</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.SS6.Thmtheorem4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Under the assumption <math id="S2.SS6.Thmtheorem4.p1.m1" class="ltx_Math" alttext="d&lt;1+r&lt;u" display="inline"><semantics><mrow><mi>d</mi><mo>&lt;</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo>&lt;</mo><mi>u</mi></mrow><annotation encoding="application/x-tex">d&lt;1+r&lt;u</annotation></semantics></math> a probability
measure <math id="S2.SS6.Thmtheorem4.p1.m2" class="ltx_Math" alttext="\mathbb{Q}" display="inline"><semantics><mi>ℚ</mi><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math> on <math id="S2.SS6.Thmtheorem4.p1.m3" class="ltx_Math" alttext="\Omega" display="inline"><semantics><mi mathvariant="normal">Ω</mi><annotation encoding="application/x-tex">\Omega</annotation></semantics></math> is a risk neutral measure for the
binomial market model with parameters <math id="S2.SS6.Thmtheorem4.p1.m4" class="ltx_Math" alttext="p,u,d" display="inline"><semantics><mrow><mi>p</mi><mo>,</mo><mi>u</mi><mo>,</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">p,u,d</annotation></semantics></math> and time horizon
<math id="S2.SS6.Thmtheorem4.p1.m5" class="ltx_Math" alttext="[0,T]" display="inline"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mi>T</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,T]</annotation></semantics></math> if and only if the following three conditions hold:</span></p>
<ol id="S2.I22" class="ltx_enumerate">
<li id="S2.I22.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span><div id="S2.I22.i1.p1" class="ltx_para">​<p class="ltx_p"><math id="S2.I22.i1.p1.m1" class="ltx_Math" alttext="X_{1},X_{2},X_{3},...,X_{T}" display="inline"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo>,</mo><msub><mi>X</mi><mn>2</mn></msub><mo>,</mo><msub><mi>X</mi><mn>3</mn></msub><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><msub><mi>X</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">X_{1},X_{2},X_{3},...,X_{T}</annotation></semantics></math><span class="ltx_text ltx_font_italic"> are independent under the measure </span><math id="S2.I22.i1.p1.m2" class="ltx_Math" alttext="\mathbb{Q}" display="inline"><semantics><mi>ℚ</mi><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math><span class="ltx_text ltx_font_italic"></span></p>
</div>
</li>
<li id="S2.I22.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span><div id="S2.I22.i2.p1" class="ltx_para">​<p class="ltx_p"><math id="S2.I22.i2.p1.m1" class="ltx_Math" alttext="0&lt;q:=\mathbb{Q}\left(X_{t}=1\right)&lt;1" display="inline"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>q</mi><mo lspace="0.278em" rspace="0.278em">:=</mo><mrow><mi>ℚ</mi><mo>⁢</mo><mrow><mo>(</mo><mrow><msub><mi>X</mi><mi>t</mi></msub><mo>=</mo><mn>1</mn></mrow><mo>)</mo></mrow></mrow><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0&lt;q:=\mathbb{Q}\left(X_{t}=1\right)&lt;1</annotation></semantics></math><span class="ltx_text ltx_font_italic"> for all </span><math id="S2.I22.i2.p1.m2" class="ltx_Math" alttext="1\leq t\leq T" display="inline"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">1\leq t\leq T</annotation></semantics></math><span class="ltx_text ltx_font_italic"></span></p>
</div>
</li>
<li id="S2.I22.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span><div id="S2.I22.i3.p1" class="ltx_para">​<p class="ltx_p"><math id="S2.I22.i3.p1.m1" class="ltx_Math" alttext="q\left(\frac{u-1-r}{1+r}\right)+(1-q)\left(\frac{d-1-r}{1+r}\right)=0" display="inline"><semantics><mrow><mrow><mrow><mi>q</mi><mo>⁢</mo><mrow><mo>(</mo><mfrac><mrow><mi>u</mi><mo>−</mo><mn>1</mn><mo>−</mo><mi>r</mi></mrow><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow></mfrac><mo>)</mo></mrow></mrow><mo>+</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo>(</mo><mfrac><mrow><mi>d</mi><mo>−</mo><mn>1</mn><mo>−</mo><mi>r</mi></mrow><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow></mfrac><mo>)</mo></mrow></mrow></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">q\left(\frac{u-1-r}{1+r}\right)+(1-q)\left(\frac{d-1-r}{1+r}\right)=0</annotation></semantics></math><span class="ltx_text ltx_font_italic"></span></p>
</div>
</li>
</ol>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">where <math id="S2.SS6.Thmtheorem4.p1.m6" class="ltx_Math" alttext="(X_{t})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X_{t})</annotation></semantics></math> is the Bernoulli process corresponding to the model.</span></p>
</div>
</div>
<div id="S2.SS6.p7" class="ltx_para">
<p class="ltx_p">Condition 3. here, is the same as in Section 1.1 and is equivalent
to</p>
<div id="S2.SS6.E4" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.E4.m1" class="ltx_math_unparsed" alttext="\boxed{q=\frac{1+r-d}{u-d}.}" display="block"><semantics><menclose notation="box"><mrow><mi>q</mi><mo>=</mo><mfrac><mrow><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo>−</mo><mi>d</mi></mrow><mrow><mi>u</mi><mo>−</mo><mi>d</mi></mrow></mfrac><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{q=\frac{1+r-d}{u-d}.}</annotation></semantics></math></span>
            <span class="ltx_tag ltx_tag_equation ltx_align_right">(2.6.4)</span>
            
            
          
</div>
<p class="ltx_p">Therefore under the assumption <math id="S2.SS6.p7.m1" class="ltx_Math" alttext="d&lt;1+r&lt;u" display="inline"><semantics><mrow><mi>d</mi><mo>&lt;</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo>&lt;</mo><mi>u</mi></mrow><annotation encoding="application/x-tex">d&lt;1+r&lt;u</annotation></semantics></math> the binomial model is
arbitrage free: once we specify <math id="S2.SS6.p7.m2" class="ltx_Math" alttext="q" display="inline"><semantics><mi>q</mi><annotation encoding="application/x-tex">q</annotation></semantics></math> and the measure <math id="S2.SS6.p7.m3" class="ltx_Math" alttext="\mathbb{Q}" display="inline"><semantics><mi>ℚ</mi><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math> is
fully defined by conditions 1. and 2. of Proposition <a href="#S2.SS6.Thmtheorem4" title="Proposition 2.6.4. ‣ 2.6. The Binomial Asset Pricing Model ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.6.4</span></a>.
As the value for <math id="S2.SS6.p7.m4" class="ltx_Math" alttext="q" display="inline"><semantics><mi>q</mi><annotation encoding="application/x-tex">q</annotation></semantics></math> is also unique, we obtain from Theorem
<a href="Pt6.html#S2.SS4.Thmtheorem6" title="Theorem 2.4.6. ‣ 2.4. Risk neutral probability measures: arbitrage and pricing ‣ Lecture VI 05/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.4.6</span></a> that the binomial model is also complete. We will
assume from now on that</p>
<div id="S2.SS6.Ex11" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex11.m1" class="ltx_math_unparsed" alttext="\boxed{d&lt;1+r&lt;u.}" display="block"><semantics><menclose notation="box"><mrow><mi>d</mi><mo>&lt;</mo><mn>1</mn><mo>+</mo><mi>r</mi><mo>&lt;</mo><mi>u</mi><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{d&lt;1+r&lt;u.}</annotation></semantics></math></span>
</div>
</div>
<div id="S2.SS6.p8" class="ltx_para">
<p class="ltx_p">It seems that the binomial model grows very large if the number of
periods <math id="S2.SS6.p8.m1" class="ltx_Math" alttext="T" display="inline"><semantics><mi>T</mi><annotation encoding="application/x-tex">T</annotation></semantics></math> is very large. In fact, in general one could obtain
<math id="S2.SS6.p8.m2" class="ltx_Math" alttext="2^{T}" display="inline"><semantics><msup><mn>2</mn><mi>T</mi></msup><annotation encoding="application/x-tex">2^{T}</annotation></semantics></math> different leaves of the binomial tree. But is that true? Look at
Figure <a href="#S2.F4" title="Figure 4 ‣ 2.6. The Binomial Asset Pricing Model ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. This representation is very useful for pricing
of a certain type of contingent claims, namely <span class="ltx_text ltx_font_bold">path
independent</span> contingent claims. These are the claims whose payoffs
depend only on the value of <math id="S2.SS6.p8.m3" class="ltx_Math" alttext="S_{T}" display="inline"><semantics><msub><mi>S</mi><mi>T</mi></msub><annotation encoding="application/x-tex">S_{T}</annotation></semantics></math>, i.e. there are of the form
<math id="S2.SS6.p8.m4" class="ltx_Math" alttext="h(S_{T})" display="inline"><semantics><mrow><mi>h</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>S</mi><mi>T</mi></msub><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">h(S_{T})</annotation></semantics></math> for some function <math id="S2.SS6.p8.m5" class="ltx_Math" alttext="h" display="inline"><semantics><mi>h</mi><annotation encoding="application/x-tex">h</annotation></semantics></math>. Perfect examples are: call and put
options, binary call and put options. But beware! You cannot use the
representation from Figure <a href="#S2.F4" title="Figure 4 ‣ 2.6. The Binomial Asset Pricing Model ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> to price path dependent
options such as Asian, barrier or lookback options.</p>
</div>
<figure id="S2.F4" class="ltx_figure">
<div id="S2.SS6.Ex12" class="ltx_equation ltx_eqn_div">
<span><img src="bmlimages/DiscreteTimeFinance-14.svg" alt="Recombination of the binomial model" id="S2.SS6.Ex12.m1.g1" class="ltx_graphics ltx_markedasmath ltx_img_portrait" width="267" height="396"></span>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>Recombination of the binomial model</figcaption>
</figure>
<div id="S2.SS6.p9" class="ltx_para">
<p class="ltx_p">In fact, we only have <math id="S2.SS6.p9.m1" class="ltx_Math" alttext="T+1" display="inline"><semantics><mrow><mi>T</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">T+1</annotation></semantics></math> possible values for the stock price at
time <math id="S2.SS6.p9.m2" class="ltx_Math" alttext="T" display="inline"><semantics><mi>T</mi><annotation encoding="application/x-tex">T</annotation></semantics></math>.</p>
</div>
<div id="S2.SS6.p10" class="ltx_para">
<p class="ltx_p">Let us now see how certain options can be evaluated using the
binomial market model above. To simplify the computation we shall
impose an assumption that is often used in practice:</p>
<div id="S2.SS6.E5" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.E5.m1" class="ltx_Math" alttext="d=u^{-1}." display="block"><semantics><mrow><mrow><mi>d</mi><mo>=</mo><msup><mi>u</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">d=u^{-1}.</annotation></semantics></math></span>
            <span class="ltx_tag ltx_tag_equation ltx_align_right">(2.6.5)</span>
            
            
          
</div>
<p class="ltx_p">Then</p>
<div id="S2.SS6.E6" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.E6.m1" class="ltx_math_unparsed" alttext="\boxed{S_{t}=S_{0}u^{2N_{t}-t}.}" display="block"><semantics><menclose notation="box"><mrow><msub><mi>S</mi><mi>t</mi></msub><mo>=</mo><msub><mi>S</mi><mn>0</mn></msub><msup><mi>u</mi><mrow><mrow><mn>2</mn><mo>⁢</mo><msub><mi>N</mi><mi>t</mi></msub></mrow><mo>−</mo><mi>t</mi></mrow></msup><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{S_{t}=S_{0}u^{2N_{t}-t}.}</annotation></semantics></math></span>
            <span class="ltx_tag ltx_tag_equation ltx_align_right">(2.6.6)</span>
            
            
          
</div>
<p class="ltx_p">Consider a European call with the payoff:</p>
<div id="S2.SS6.Ex13" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex13.m1" class="ltx_Math" alttext="X=(S_{T}-K)^{+}." display="block"><semantics><mrow><mrow><mi>X</mi><mo>=</mo><msup><mrow><mo stretchy="false">(</mo><mrow><msub><mi>S</mi><mi>T</mi></msub><mo>−</mo><mi>K</mi></mrow><mo stretchy="false">)</mo></mrow><mo>+</mo></msup></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">X=(S_{T}-K)^{+}.</annotation></semantics></math></span>
</div>
<p class="ltx_p">The price of this contingent claim at time <math id="S2.SS6.p10.m1" class="ltx_Math" alttext="t=0" display="inline"><semantics><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t=0</annotation></semantics></math> can be computed via
the formula</p>
<div id="S2.SS6.Ex14" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex14.m1" class="ltx_Math" alttext="V_{0}=\mathbb{E}_{\mathbb{Q}}\left(\frac{1}{(1+r)^{T}}X\right)." display="block"><semantics><mrow><mrow><msub><mi>V</mi><mn>0</mn></msub><mo>=</mo><mrow><msub><mi>𝔼</mi><mi>ℚ</mi></msub><mo>⁢</mo><mrow><mo>(</mo><mrow><mfrac><mn>1</mn><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac><mo>⁢</mo><mi>X</mi></mrow><mo>)</mo></mrow></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">V_{0}=\mathbb{E}_{\mathbb{Q}}\left(\frac{1}{(1+r)^{T}}X\right).</annotation></semantics></math></span>
</div>
<p class="ltx_p">Using Proposition <a href="#S2.SS6.Thmtheorem4" title="Proposition 2.6.4. ‣ 2.6. The Binomial Asset Pricing Model ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.6.4</span></a>, this is the same as</p>
<div id="S2.SS6.Ex15" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex15.m1" class="ltx_Math" alttext="V_{0}=\frac{1}{(1+r)^{T}}\sum_{k=0}^{T}\binom{T}{k}q^{k}(1-q)^{T-k}\max(0,S_{0%
}u^{k}d^{T-k}-K)." display="block"><semantics><mrow><mrow><msub><mi>V</mi><mn>0</mn></msub><mo>=</mo><mrow><mfrac><mn>1</mn><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac><mo>⁢</mo><mrow><munderover><mo movablelimits="false" rspace="0em">∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>T</mi></munderover><mrow><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac><mo>)</mo></mrow><mo>⁢</mo><msup><mi>q</mi><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup><mo lspace="0.167em">⁢</mo><mrow><mi>max</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mrow><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>u</mi><mi>k</mi></msup><mo>⁢</mo><msup><mi>d</mi><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow><mo>−</mo><mi>K</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">V_{0}=\frac{1}{(1+r)^{T}}\sum_{k=0}^{T}\binom{T}{k}q^{k}(1-q)^{T-k}\max(0,S_{0%
}u^{k}d^{T-k}-K).</annotation></semantics></math></span>
</div>
<p class="ltx_p">We have that</p>
<div class="bml-overflow-wrapper">
<table id="S4.EGx27" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S2.SS6.Ex16"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.SS6.Ex16.m1" class="ltx_Math" alttext="\displaystyle S_{0}u^{k}d^{T-k}-K&gt;0" display="inline"><semantics><mrow><mrow><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>u</mi><mi>k</mi></msup><mo>⁢</mo><msup><mi>d</mi><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow><mo>−</mo><mi>K</mi></mrow><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\displaystyle S_{0}u^{k}d^{T-k}-K&gt;0</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex16.m2" class="ltx_Math" alttext="\displaystyle\Leftrightarrow\left(\frac{u}{d}\right)^{k}&gt;\frac{K}{S_{0}d^{T}}" display="inline"><semantics><mrow><mi></mi><mo stretchy="false">⇔</mo><mrow><msup><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac><mi>u</mi><mi>d</mi></mfrac></mstyle><mo>)</mo></mrow><mi>k</mi></msup><mo>&gt;</mo><mstyle displaystyle="true"><mfrac><mi>K</mi><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>d</mi><mi>T</mi></msup></mrow></mfrac></mstyle></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\Leftrightarrow\left(\frac{u}{d}\right)^{k}&gt;\frac{K}{S_{0}d^{T}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex17"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex17.m1" class="ltx_Math" alttext="\displaystyle\Leftrightarrow k\log\left(\frac{u}{d}\right)&gt;\log\left(\frac{K}{%
S_{0}d^{T}}\right)" display="inline"><semantics><mrow><mi></mi><mo stretchy="false">⇔</mo><mrow><mrow><mi>k</mi><mo lspace="0.167em">⁢</mo><mrow><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac><mi>u</mi><mi>d</mi></mfrac></mstyle><mo>)</mo></mrow></mrow></mrow><mo>&gt;</mo><mrow><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac><mi>K</mi><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>d</mi><mi>T</mi></msup></mrow></mfrac></mstyle><mo>)</mo></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\Leftrightarrow k\log\left(\frac{u}{d}\right)&gt;\log\left(\frac{K}{%
S_{0}d^{T}}\right)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex18"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex18.m1" class="ltx_Math" alttext="\displaystyle\Leftrightarrow k&gt;\frac{\log\left(\frac{K}{S_{0}d^{T}}\right)}{%
\log\left(\frac{u}{d}\right)}." display="inline"><semantics><mrow><mrow><mi></mi><mo stretchy="false">⇔</mo><mrow><mi>k</mi><mo>&gt;</mo><mstyle displaystyle="true"><mfrac><mrow><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mfrac><mi>K</mi><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>d</mi><mi>T</mi></msup></mrow></mfrac><mo>)</mo></mrow></mrow><mrow><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mfrac><mi>u</mi><mi>d</mi></mfrac><mo>)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\displaystyle\Leftrightarrow k&gt;\frac{\log\left(\frac{K}{S_{0}d^{T}}\right)}{%
\log\left(\frac{u}{d}\right)}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<p class="ltx_p">We define <math id="S2.SS6.p10.m2" class="ltx_Math" alttext="\hat{k}" display="inline"><semantics><mover accent="true"><mi>k</mi><mo>^</mo></mover><annotation encoding="application/x-tex">\hat{k}</annotation></semantics></math> as the smallest integer <math id="S2.SS6.p10.m3" class="ltx_Math" alttext="k" display="inline"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math> such that this
inequality is satisfied. If there are less than <math id="S2.SS6.p10.m4" class="ltx_Math" alttext="\hat{k}" display="inline"><semantics><mover accent="true"><mi>k</mi><mo>^</mo></mover><annotation encoding="application/x-tex">\hat{k}</annotation></semantics></math> upward
jumps, there is no chance that the option will pay off anything. We
can therefore write</p>
<div class="bml-overflow-wrapper">
<table id="S4.EGx28" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S2.SS6.Ex19"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.SS6.Ex19.m1" class="ltx_Math" alttext="\displaystyle V_{0}" display="inline"><semantics><msub><mi>V</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\displaystyle V_{0}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex19.m2" class="ltx_Math" alttext="\displaystyle=\frac{1}{(1+r)^{T}}\sum_{k=0}^{\hat{k}-1}\binom{T}{k}q^{k}(1-q)^%
{T-k}0" display="inline"><semantics><mrow><mi></mi><mo>=</mo><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac></mstyle><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mrow><mover accent="true"><mi>k</mi><mo>^</mo></mover><mo>−</mo><mn>1</mn></mrow></munderover></mstyle><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>⁢</mo><msup><mi>q</mi><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup><mo>⁢</mo><mn>0</mn></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle=\frac{1}{(1+r)^{T}}\sum_{k=0}^{\hat{k}-1}\binom{T}{k}q^{k}(1-q)^%
{T-k}0</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex20"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex20.m1" class="ltx_Math" alttext="\displaystyle\hskip 16.0pt+\frac{1}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}%
q^{k}(1-q)^{T-k}\left(S_{0}u^{k}d^{T-k}-K\right)" display="inline"><semantics><mrow><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac></mstyle><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover></mstyle><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>⁢</mo><msup><mi>q</mi><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup><mo>⁢</mo><mrow><mo>(</mo><mrow><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>u</mi><mi>k</mi></msup><mo>⁢</mo><msup><mi>d</mi><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow><mo>−</mo><mi>K</mi></mrow><mo>)</mo></mrow></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\hskip 16.0pt+\frac{1}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}%
q^{k}(1-q)^{T-k}\left(S_{0}u^{k}d^{T-k}-K\right)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex21"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex21.m1" class="ltx_Math" alttext="\displaystyle=\frac{S_{0}}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}q^{k}(1-q%
)^{T-k}u^{k}d^{T-k}" display="inline"><semantics><mrow><mi></mi><mo>=</mo><mrow><mstyle displaystyle="true"><mfrac><msub><mi>S</mi><mn>0</mn></msub><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac></mstyle><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover></mstyle><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>⁢</mo><msup><mi>q</mi><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup><mo>⁢</mo><msup><mi>u</mi><mi>k</mi></msup><mo>⁢</mo><msup><mi>d</mi><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle=\frac{S_{0}}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}q^{k}(1-q%
)^{T-k}u^{k}d^{T-k}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex22"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex22.m1" class="ltx_Math" alttext="\displaystyle\hskip 16.0pt-\frac{K}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}%
q^{k}(1-q)^{T-k}" display="inline"><semantics><mrow><mo>−</mo><mrow><mstyle displaystyle="true"><mfrac><mi>K</mi><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac></mstyle><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover></mstyle><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>⁢</mo><msup><mi>q</mi><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\hskip 16.0pt-\frac{K}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}%
q^{k}(1-q)^{T-k}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex23"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex23.m1" class="ltx_Math" alttext="\displaystyle=S_{0}\sum_{k=\hat{k}}^{T}\binom{T}{k}\left(\frac{qu}{1+r}\right)%
^{k}\left(\frac{(1-q)d}{1+r}\right)^{T-k}" display="inline"><semantics><mrow><mi></mi><mo>=</mo><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover></mstyle><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>⁢</mo><msup><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac><mrow><mi>q</mi><mo>⁢</mo><mi>u</mi></mrow><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow></mfrac></mstyle><mo>)</mo></mrow><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac><mrow><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mi>d</mi></mrow><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow></mfrac></mstyle><mo>)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle=S_{0}\sum_{k=\hat{k}}^{T}\binom{T}{k}\left(\frac{qu}{1+r}\right)%
^{k}\left(\frac{(1-q)d}{1+r}\right)^{T-k}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex24"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex24.m1" class="ltx_Math" alttext="\displaystyle\hskip 16.0pt-\frac{K}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}%
q^{k}(1-q)^{T-k}" display="inline"><semantics><mrow><mo>−</mo><mrow><mstyle displaystyle="true"><mfrac><mi>K</mi><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac></mstyle><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover></mstyle><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>⁢</mo><msup><mi>q</mi><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\hskip 16.0pt-\frac{K}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}%
q^{k}(1-q)^{T-k}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S2.SS6.Ex25"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.SS6.Ex25.m1" class="ltx_Math" alttext="\displaystyle=S_{0}\sum_{k=\hat{k}}^{T}\binom{T}{k}\hat{q}^{k}(1-\hat{q})^{T-k%
}-\frac{K}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}q^{k}(1-q)^{T-k}," display="inline"><semantics><mrow><mrow><mi></mi><mo>=</mo><mrow><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover></mstyle><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>⁢</mo><msup><mover accent="true"><mi>q</mi><mo>^</mo></mover><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mover accent="true"><mi>q</mi><mo>^</mo></mover></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow></mrow></mrow><mo>−</mo><mrow><mstyle displaystyle="true"><mfrac><mi>K</mi><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac></mstyle><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover></mstyle><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>⁢</mo><msup><mi>q</mi><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow></mrow></mrow></mrow></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">\displaystyle=S_{0}\sum_{k=\hat{k}}^{T}\binom{T}{k}\hat{q}^{k}(1-\hat{q})^{T-k%
}-\frac{K}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}q^{k}(1-q)^{T-k},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<p class="ltx_p">where <math id="S2.SS6.p10.m5" class="ltx_Math" alttext="\hat{q}=\frac{qu}{1+r}" display="inline"><semantics><mrow><mover accent="true"><mi>q</mi><mo>^</mo></mover><mo>=</mo><mfrac><mrow><mi>q</mi><mo>⁢</mo><mi>u</mi></mrow><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\hat{q}=\frac{qu}{1+r}</annotation></semantics></math>. We have therefore proved:</p>
</div>
<div id="S2.SS6.Thmtheorem5" class="ltx_theorem ltx_theorem_proposition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Proposition 2.6.5</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S2.SS6.Thmtheorem5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">(<span class="ltx_text ltx_font_bold">CRR-option pricing formula</span>)
An arbitrage free price at time <math id="S2.SS6.Thmtheorem5.p1.m1" class="ltx_Math" alttext="t=0" display="inline"><semantics><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t=0</annotation></semantics></math> for the European call option
<math id="S2.SS6.Thmtheorem5.p1.m2" class="ltx_Math" alttext="X=(S_{T}-K)^{+}" display="inline"><semantics><mrow><mi>X</mi><mo>=</mo><msup><mrow><mo stretchy="false">(</mo><mrow><msub><mi>S</mi><mi>T</mi></msub><mo>−</mo><mi>K</mi></mrow><mo stretchy="false">)</mo></mrow><mo>+</mo></msup></mrow><annotation encoding="application/x-tex">X=(S_{T}-K)^{+}</annotation></semantics></math> in the binomial market model with parameters
<math id="S2.SS6.Thmtheorem5.p1.m3" class="ltx_Math" alttext="u=d^{-1}" display="inline"><semantics><mrow><mi>u</mi><mo>=</mo><msup><mi>d</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">u=d^{-1}</annotation></semantics></math>,<math id="S2.SS6.Thmtheorem5.p1.m4" class="ltx_Math" alttext="r" display="inline"><semantics><mi>r</mi><annotation encoding="application/x-tex">r</annotation></semantics></math>, <math id="S2.SS6.Thmtheorem5.p1.m5" class="ltx_Math" alttext="T" display="inline"><semantics><mi>T</mi><annotation encoding="application/x-tex">T</annotation></semantics></math> is given by</span></p>
<div id="S2.SS6.Ex26" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex26.m1" class="ltx_Math" alttext="V_{0}=S_{0}\sum_{k=\hat{k}}^{T}\binom{T}{k}\hat{q}^{k}(1-\hat{q})^{T-k}-\frac{%
K}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}q^{k}(1-q)^{T-k}" display="block"><semantics><mrow><msub><mi>V</mi><mn>0</mn></msub><mo>=</mo><mrow><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><mrow><munderover><mo movablelimits="false" rspace="0em">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover><mrow><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac><mo>)</mo></mrow><mo>⁢</mo><msup><mover accent="true"><mi>q</mi><mo>^</mo></mover><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mover accent="true"><mi>q</mi><mo>^</mo></mover></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow></mrow></mrow><mo>−</mo><mrow><mfrac><mi>K</mi><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>T</mi></msup></mfrac><mo>⁢</mo><mrow><munderover><mo movablelimits="false" rspace="0em">∑</mo><mrow><mi>k</mi><mo>=</mo><mover accent="true"><mi>k</mi><mo>^</mo></mover></mrow><mi>T</mi></munderover><mrow><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>T</mi><mi>k</mi></mfrac><mo>)</mo></mrow><mo>⁢</mo><msup><mi>q</mi><mi>k</mi></msup><mo>⁢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>T</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">V_{0}=S_{0}\sum_{k=\hat{k}}^{T}\binom{T}{k}\hat{q}^{k}(1-\hat{q})^{T-k}-\frac{%
K}{(1+r)^{T}}\sum_{k=\hat{k}}^{T}\binom{T}{k}q^{k}(1-q)^{T-k}</annotation></semantics></math></span>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">where</span></p>
<div id="S2.SS6.E7" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.E7.m1" class="ltx_Math" alttext="q=\frac{1+r-d}{u-d},\qquad\hat{q}=\frac{qu}{1+r}," display="block"><semantics><mrow><mrow><mrow><mi>q</mi><mo>=</mo><mfrac><mrow><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo>−</mo><mi>d</mi></mrow><mrow><mi>u</mi><mo>−</mo><mi>d</mi></mrow></mfrac></mrow><mo rspace="2.357em">,</mo><mrow><mover accent="true"><mi>q</mi><mo>^</mo></mover><mo>=</mo><mfrac><mrow><mi>q</mi><mo>⁢</mo><mi>u</mi></mrow><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow></mfrac></mrow></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">q=\frac{1+r-d}{u-d},\qquad\hat{q}=\frac{qu}{1+r},</annotation></semantics></math></span>
              <span class="ltx_tag ltx_tag_equation ltx_align_right">(2.6.7)</span>
              
              
            
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">and <math id="S2.SS6.Thmtheorem5.p1.m6" class="ltx_Math" alttext="\hat{k}" display="inline"><semantics><mover accent="true"><mi>k</mi><mo>^</mo></mover><annotation encoding="application/x-tex">\hat{k}</annotation></semantics></math> is the smallest integer such that</span></p>
<div id="S2.SS6.Ex27" class="ltx_equation ltx_eqn_div">
<span><math id="S2.SS6.Ex27.m1" class="ltx_Math" alttext="\hat{k}&gt;\frac{\log\left(\frac{K}{S_{0}d^{T}}\right)}{\log\left(\frac{u}{d}%
\right)}." display="block"><semantics><mrow><mrow><mover accent="true"><mi>k</mi><mo>^</mo></mover><mo>&gt;</mo><mfrac><mrow><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mfrac><mi>K</mi><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>⁢</mo><msup><mi>d</mi><mi>T</mi></msup></mrow></mfrac><mo>)</mo></mrow></mrow><mrow><mi>log</mi><mo>⁡</mo><mrow><mo>(</mo><mfrac><mi>u</mi><mi>d</mi></mfrac><mo>)</mo></mrow></mrow></mfrac></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\hat{k}&gt;\frac{\log\left(\frac{K}{S_{0}d^{T}}\right)}{\log\left(\frac{u}{d}%
\right)}.</annotation></semantics></math></span>
</div>
</div>
</div>
<div id="S2.SS6.p11" class="ltx_para">
<p class="ltx_p">Though simple by its construction, the binomial market model is very
powerful. If one chooses the number of time periods very large and
the units of time very small, then one can approximate trading in
continuous time. The CRR-option pricing formula then approximates
the Black-Scholes option pricing formula (details are given in
Elliot, page 50-55) and in the Continuous Time Finance module, next
semester.</p>
</div>
</div>
</section>
<section id="S3" class="ltx_section normal">
<div class="section level2">

<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section header-section-number">3</span>. Investment</h2>

<section id="S3.SS1" class="ltx_subsection normal">
<div class="section level3">

<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection header-section-number">3.1</span>. Single Period Investment</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p class="ltx_p">In this section we return to the study of the general single period market model which consists of one money market account and <math id="S3.SS1.p1.m1" class="ltx_Math" alttext="n" display="inline"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math> stocks, based on the underlying state space <math id="S3.SS1.p1.m2" class="ltx_Math" alttext="\Omega=\{\omega_{1},...,\omega_{k}\}" display="inline"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo>=</mo><mrow><mo stretchy="false">{</mo><msub><mi>ω</mi><mn>1</mn></msub><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><msub><mi>ω</mi><mi>k</mi></msub><mo stretchy="false">}</mo></mrow></mrow><annotation encoding="application/x-tex">\Omega=\{\omega_{1},...,\omega_{k}\}</annotation></semantics></math> and probability measure <math id="S3.SS1.p1.m3" class="ltx_Math" alttext="\mathbb{P}" display="inline"><semantics><mi>ℙ</mi><annotation encoding="application/x-tex">\mathbb{P}</annotation></semantics></math>. In the first chapter we were mainly interested in the construction of this model and the computation of prices of financial derivatives such as options and contingent claims. Now we want to study a different question, which is by no means less important:</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p class="ltx_p ltx_align_center">

<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" style="width:346.9pt;">
<span class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:110%;">What is the optimal way to invest money into the market?</span></span>
</span>
</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p class="ltx_p">The answer of this question naturally depends on the choice of the model, and in this section we will stick to our general single period market model from the last section of the first chapter. We will later consider the same question in multi-period models.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p class="ltx_p">Before we answer this question we have to specify what exactly we mean by optimality, i.e. what is our measure for the performance of a trading strategy. In order to define such a performance measure three fundamental characteristics of financial markets, or more precisely of the agents trading on the markets, have to be included:</p>
</div>
<div id="S3.SS1.p5" class="ltx_para">
<p class="ltx_p ltx_align_center">

<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" style="width:346.9pt;">
<span class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:110%;">1. Agents prefer higher payoffs to lower payoffs</span></span>
</span>
</p>
</div>
<div id="S3.SS1.p6" class="ltx_para">
<p class="ltx_p">This idea is so innate to financial markets, that it does not need any discussion. However we cannot judge trading strategies purely by this characteristic. As we saw in the previous sections, the payoffs of financial assets are generally modeled as random variables. Assume now, we have two trading strategies, the performance of which we want to compare. It is then possible that in one state of the world the first trading strategy yields a higher payoff and in another state of the world the second trading strategy yields a higher payoff. In order to compare the performances of the two trading strategies, we must somehow take an average over the states of the world, but this is nothing else then taking expectations.</p>
</div>
<div id="S3.SS1.p7" class="ltx_para">
<p class="ltx_p ltx_align_center">

<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" style="width:346.9pt;">
<span class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:110%;">2. Agents assess trading strategies by average performance</span></span>
</span>
</p>
</div>
<div id="S3.SS1.p8" class="ltx_para">
<p class="ltx_p">The second characteristic leads directly to the use of expected value, which fits in very well into our probabilistic models. There is however a third characteristic which has to be included. To illustrate this, consider the following simple example: Assume an agent is offered to choose between two alternatives. If he chooses the first one he will be paid 10 million pounds. If he chooses the second one, a fair coin will be tossed. If the coin shows head, he will be paid 20 million pounds instead of the 10 million, but if the coin shows tail, he will be paid nothing. What would the agent choose? If the agent is not yet a billionaire, he would probably go for the first alternative, which gives him 10 million for sure and financial safety for the rest of his life. Denoting the payoff of the first alternative with <math id="S3.SS1.p8.m1" class="ltx_Math" alttext="X^{1}" display="inline"><semantics><msup><mi>X</mi><mn>1</mn></msup><annotation encoding="application/x-tex">X^{1}</annotation></semantics></math> and the payoff of the second alternative with <math id="S3.SS1.p8.m2" class="ltx_Math" alttext="X^{2}" display="inline"><semantics><msup><mi>X</mi><mn>2</mn></msup><annotation encoding="application/x-tex">X^{2}</annotation></semantics></math> we see that if we simply judge the two payoffs by its expectation, the agent would be indifferent between the two alternatives:</p>
<div id="S3.SS1.Ex1" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.Ex1.m1" class="ltx_Math" alttext="\mathbb{E}(X^{1})=10\mbox{ million }=\frac{1}{2}\cdot 0+\frac{1}{2}\cdot 20%
\mbox{ million }=\mathbb{E}(X^{2})." display="block"><semantics><mrow><mrow><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msup><mi>X</mi><mn>1</mn></msup><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mn>10</mn><mo>⁢</mo><mtext> million </mtext></mrow><mo>=</mo><mrow><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo lspace="0.222em" rspace="0.222em">⋅</mo><mn>0</mn></mrow><mo>+</mo><mrow><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo lspace="0.222em" rspace="0.222em">⋅</mo><mn>20</mn></mrow><mo>⁢</mo><mtext> million </mtext></mrow></mrow><mo>=</mo><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msup><mi>X</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\mathbb{E}(X^{1})=10\mbox{ million }=\frac{1}{2}\cdot 0+\frac{1}{2}\cdot 20%
\mbox{ million }=\mathbb{E}(X^{2}).</annotation></semantics></math></span>
</div>
<p class="ltx_p">The reason why the agent would prefer the first alternative is, that he is risk averse. His idea is, that 10 million will bring him financial safety and the possibility of an upper class lifestyle and that in fact for him 10 million or 20 million wouldn’t be such a big difference, but 10 million or nothing would make a huge difference. We therefore have found our third and last characteristic, which we want to include into our model.</p>
</div>
<div id="S3.SS1.p9" class="ltx_para">
<p class="ltx_p ltx_align_center">

<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" style="width:346.9pt;">
<span class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:110%;">3. Agents are risk averse</span></span>
</span>
</p>
</div>
<div id="S3.SS1.p10" class="ltx_para">
<p class="ltx_p">The concept of risk aversion can be included in our model by the use of utility functions.</p>
</div>
<div id="S3.SS1.Thmtheorem1" class="ltx_theorem ltx_theorem_definition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Definition 3.1.1</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S3.SS1.Thmtheorem1.p1" class="ltx_para">
<p class="ltx_p">A continuously differentiable function <math id="S3.SS1.Thmtheorem1.p1.m1" class="ltx_Math" alttext="u:\mathbb{R}_{+}\to\mathbb{R}" display="inline"><semantics><mrow><mi>u</mi><mo lspace="0.278em" rspace="0.278em">:</mo><mrow><msub><mi>ℝ</mi><mo>+</mo></msub><mo stretchy="false">→</mo><mi>ℝ</mi></mrow></mrow><annotation encoding="application/x-tex">u:\mathbb{R}_{+}\to\mathbb{R}</annotation></semantics></math> is called a <span class="ltx_text ltx_font_bold">risk averse utility function</span> if it has the following three properties:</p>
<ol id="S3.I1" class="ltx_enumerate">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span><div id="S3.I1.i1.p1" class="ltx_para">​<p class="ltx_p"><math id="S3.I1.i1.p1.m1" class="ltx_Math" alttext="\lim_{x\to 0}u^{\prime}(x)=+\infty" display="inline"><semantics><mrow><mrow><msub><mo>lim</mo><mrow><mi>x</mi><mo stretchy="false">→</mo><mn>0</mn></mrow></msub><mrow><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow></mrow><mo>=</mo><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></mrow><annotation encoding="application/x-tex">\lim_{x\to 0}u^{\prime}(x)=+\infty</annotation></semantics></math> and <math id="S3.I1.i1.p1.m2" class="ltx_Math" alttext="\lim_{x\to\infty}u^{\prime}(x)=0" display="inline"><semantics><mrow><mrow><msub><mo>lim</mo><mrow><mi>x</mi><mo stretchy="false">→</mo><mi mathvariant="normal">∞</mi></mrow></msub><mrow><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lim_{x\to\infty}u^{\prime}(x)=0</annotation></semantics></math></p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span><div id="S3.I1.i2.p1" class="ltx_para">​<p class="ltx_p"><math id="S3.I1.i2.p1.m1" class="ltx_Math" alttext="u" display="inline"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math> is strictly increasing in the way that <math id="S3.I1.i2.p1.m2" class="ltx_Math" alttext="u^{\prime}(x)&gt;0" display="inline"><semantics><mrow><mrow><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">u^{\prime}(x)&gt;0</annotation></semantics></math> for all <math id="S3.I1.i2.p1.m3" class="ltx_Math" alttext="x\in\mathbb{R}" display="inline"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>ℝ</mi></mrow><annotation encoding="application/x-tex">x\in\mathbb{R}</annotation></semantics></math></p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span><div id="S3.I1.i3.p1" class="ltx_para">​<p class="ltx_p"><math id="S3.I1.i3.p1.m1" class="ltx_Math" alttext="u" display="inline"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math> is strictly concave in the way that <math id="S3.I1.i3.p1.m2" class="ltx_Math" alttext="u(\lambda x+(1-\lambda)y)&gt;\lambda u(x)+(1-\lambda)u(y)" display="inline"><semantics><mrow><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mrow><mi>λ</mi><mo>⁢</mo><mi>x</mi></mrow><mo>+</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>λ</mi></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mi>y</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>&gt;</mo><mrow><mrow><mi>λ</mi><mo>⁢</mo><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>+</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>−</mo><mi>λ</mi></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">u(\lambda x+(1-\lambda)y)&gt;\lambda u(x)+(1-\lambda)u(y)</annotation></semantics></math>.</p>
</div>
</li>
</ol>
</div>
</div>
<div id="S3.SS1.p11" class="ltx_para">
<p class="ltx_p">Third condition in Definition <a href="#S3.SS1.Thmtheorem1" title="Definition 3.1.1. ‣ 3.1. Single Period Investment ‣ 3. Investment ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1.1</span></a> is equivalent to <math id="S3.SS1.p11.m1" class="ltx_Math" alttext="u^{\prime\prime}(x)&lt;0" display="inline"><semantics><mrow><mrow><msup><mi>u</mi><mo>′′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">u^{\prime\prime}(x)&lt;0</annotation></semantics></math> for all <math id="S3.SS1.p11.m2" class="ltx_Math" alttext="x\in\mathbb{R}_{+}" display="inline"><semantics><mrow><mi>x</mi><mo>∈</mo><msub><mi>ℝ</mi><mo>+</mo></msub></mrow><annotation encoding="application/x-tex">x\in\mathbb{R}_{+}</annotation></semantics></math> if the function if twice differentiable. Let us now consider a random variable <math id="S3.SS1.p11.m3" class="ltx_Math" alttext="X" display="inline"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math> which is interpreted as a random payoff. Fixing a utility function <math id="S3.SS1.p11.m4" class="ltx_Math" alttext="u" display="inline"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math> we will measure the performance of this payoff by</p>
<div id="S3.SS1.Ex2" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.Ex2.m1" class="ltx_math_unparsed" alttext="\boxed{\mathbb{E}(u(X))=\sum_{i=1}^{k}\mathbb{P}(\omega_{i})u(X(\omega_{i})).}" display="block"><semantics><menclose notation="box"><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><mi>u</mi><mrow><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow><mo rspace="0.111em">=</mo><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mi>ℙ</mi><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mi>u</mi><mrow><mo stretchy="false">(</mo><mi>X</mi><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow><mo lspace="0em">.</mo></mrow></menclose><annotation encoding="application/x-tex">\boxed{\mathbb{E}(u(X))=\sum_{i=1}^{k}\mathbb{P}(\omega_{i})u(X(\omega_{i})).}</annotation></semantics></math></span>
</div>
<p class="ltx_p">This way of measuring the performance of a payoff incorporates all three of the characteristics we have discussed above. The first one is reflected by the fact that the utility function is strictly increasing and the second one is reflected by usage of the expected value. The third characteristic is reflected by the concavity of the utility function. In our little example where the agent is offered to choose between the two alternatives, we have</p>
<div class="bml-overflow-wrapper">
<table id="S4.EGx29" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.SS1.Ex4">
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.SS1.Ex3.m1" class="ltx_Math" alttext="\displaystyle\mathbb{E}(u(X^{1}))" display="inline"><semantics><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msup><mi>X</mi><mn>1</mn></msup><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\mathbb{E}(u(X^{1}))</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex3.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex3.m3" class="ltx_Math" alttext="\displaystyle u(10\mbox{ million })=u(\frac{1}{2}\cdot 0+\frac{1}{2}\cdot 20%
\mbox{ million })" display="inline"><semantics><mrow><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mn>10</mn><mo>⁢</mo><mtext> million </mtext></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo lspace="0.222em" rspace="0.222em">⋅</mo><mn>0</mn></mrow><mo>+</mo><mrow><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo lspace="0.222em" rspace="0.222em">⋅</mo><mn>20</mn></mrow><mo>⁢</mo><mtext> million </mtext></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle u(10\mbox{ million })=u(\frac{1}{2}\cdot 0+\frac{1}{2}\cdot 20%
\mbox{ million })</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex4.m1" class="ltx_Math" alttext="\displaystyle&gt;" display="inline"><semantics><mo>&gt;</mo><annotation encoding="application/x-tex">\displaystyle&gt;</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex4.m2" class="ltx_math_unparsed" alttext="\displaystyle\frac{1}{2}\cdot u(0)+\frac{1}{2}\cdot u(20\mbox{ million }))=%
\mathbb{E}(u(X^{2}))." display="inline"><semantics><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo lspace="0.222em" rspace="0.222em">⋅</mo><mi>u</mi><mrow><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mo>+</mo><mstyle displaystyle="true"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo lspace="0.222em" rspace="0.222em">⋅</mo><mi>u</mi><mrow><mo stretchy="false">(</mo><mn>20</mn><mtext> million </mtext><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo><mo>=</mo><mi>𝔼</mi><mo stretchy="false">(</mo><mi>u</mi><mrow><mo stretchy="false">(</mo><msup><mi>X</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\displaystyle\frac{1}{2}\cdot u(0)+\frac{1}{2}\cdot u(20\mbox{ million }))=%
\mathbb{E}(u(X^{2})).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<p class="ltx_p">The investor would therefore decide for the first alternative. This an example of what is also called 2nd order stochastic dominance.</p>
</div>
<div id="S3.SS1.p12" class="ltx_para">
<p class="ltx_p">It is important to note, that the expectation in our performance measure has to be taken under the original measure <math id="S3.SS1.p12.m1" class="ltx_Math" alttext="\mathbb{P}" display="inline"><semantics><mi>ℙ</mi><annotation encoding="application/x-tex">\mathbb{P}</annotation></semantics></math> which represents the traders beliefs, and not any risk neutral measure. The value <math id="S3.SS1.p12.m2" class="ltx_Math" alttext="\mathbb{E}(u(X))" display="inline"><semantics><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbb{E}(u(X))</annotation></semantics></math> crucially depend on the choice of the utility function <math id="S3.SS1.p12.m3" class="ltx_Math" alttext="u" display="inline"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math>. It is clear that whenever an agent wants to compare a set of payoffs, he has to use the same utility function for this evaluation. However this utility function is like a personal trait of the agent and different agents may have different utility functions, such as some agents are more risk averse than others. Here are some examples of risk averse utility functions:</p>
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span><div id="S3.I2.i1.p1" class="ltx_para">​<p class="ltx_p">Logarithmic utility: <math id="S3.I2.i1.p1.m1" class="ltx_Math" alttext="u(x)=\ln(x)" display="inline"><semantics><mrow><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>ln</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">u(x)=\ln(x)</annotation></semantics></math></p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span><div id="S3.I2.i2.p1" class="ltx_para">​<p class="ltx_p">Exponential utility*: <math id="S3.I2.i2.p1.m1" class="ltx_Math" alttext="u(x)=-e^{-\lambda x}" display="inline"><semantics><mrow><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mo>−</mo><msup><mi>e</mi><mrow><mo>−</mo><mrow><mi>λ</mi><mo>⁢</mo><mi>x</mi></mrow></mrow></msup></mrow></mrow><annotation encoding="application/x-tex">u(x)=-e^{-\lambda x}</annotation></semantics></math>, <math id="S3.I2.i2.p1.m2" class="ltx_Math" alttext="\lambda&gt;0" display="inline"><semantics><mrow><mi>λ</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda&gt;0</annotation></semantics></math>.</p>
</div>
</li>
<li id="S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span><div id="S3.I2.i3.p1" class="ltx_para">​<p class="ltx_p">Power utility: <math id="S3.I2.i3.p1.m1" class="ltx_Math" alttext="u(x)=\frac{1}{\gamma}x^{\gamma}" display="inline"><semantics><mrow><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mfrac><mn>1</mn><mi>γ</mi></mfrac><mo>⁢</mo><msup><mi>x</mi><mi>γ</mi></msup></mrow></mrow><annotation encoding="application/x-tex">u(x)=\frac{1}{\gamma}x^{\gamma}</annotation></semantics></math>, <math id="S3.I2.i3.p1.m2" class="ltx_Math" alttext="\gamma\in(0,1)" display="inline"><semantics><mrow><mi>γ</mi><mo>∈</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\gamma\in(0,1)</annotation></semantics></math>.</p>
</div>
</li>
<li id="S3.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span><div id="S3.I2.i4.p1" class="ltx_para">​<p class="ltx_p">Square root utility: <math id="S3.I2.i4.p1.m1" class="ltx_Math" alttext="u(x)=\sqrt{x}" display="inline"><semantics><mrow><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><msqrt><mi>x</mi></msqrt></mrow><annotation encoding="application/x-tex">u(x)=\sqrt{x}</annotation></semantics></math> (it is an example of the power utility function).</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS1.p13" class="ltx_para">
<p class="ltx_p">Some of the utility functions above, clearly do not satisfy the Definition <a href="#S3.SS1.Thmtheorem1" title="Definition 3.1.1. ‣ 3.1. Single Period Investment ‣ 3. Investment ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1.1</span></a> of a utility function in the strict sense.
*Notice for example that the exponential utility function has a
different range than the one we used in Definition <a href="#S3.SS1.Thmtheorem1" title="Definition 3.1.1. ‣ 3.1. Single Period Investment ‣ 3. Investment ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1.1</span></a>.
The limits in the first property of the same definition are
different as well. However, utility functions are used to rank alternative investments and the actual value of the utility of a specific outcome is not meaningful on its own. For this reason, any utility function of the form <math id="S3.SS1.p13.m1" class="ltx_Math" alttext="\alpha U(x)+\beta" display="inline"><semantics><mrow><mrow><mi>α</mi><mo>⁢</mo><mi>U</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>+</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha U(x)+\beta</annotation></semantics></math> would provide the same ranking of outcomes as <math id="S3.SS1.p13.m2" class="ltx_Math" alttext="U(x)" display="inline"><semantics><mrow><mi>U</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">U(x)</annotation></semantics></math> and is called equivalent to <math id="S3.SS1.p13.m3" class="ltx_Math" alttext="U(x)" display="inline"><semantics><mrow><mi>U</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">U(x)</annotation></semantics></math>. For example <math id="S3.SS1.p13.m4" class="ltx_Math" alttext="1-e^{-\lambda x}" display="inline"><semantics><mrow><mn>1</mn><mo>−</mo><msup><mi>e</mi><mrow><mo>−</mo><mrow><mi>λ</mi><mo>⁢</mo><mi>x</mi></mrow></mrow></msup></mrow><annotation encoding="application/x-tex">1-e^{-\lambda x}</annotation></semantics></math> is equivalent to <math id="S3.SS1.p13.m5" class="ltx_Math" alttext="-e^{-\lambda x}" display="inline"><semantics><mrow><mo>−</mo><msup><mi>e</mi><mrow><mo>−</mo><mrow><mi>λ</mi><mo>⁢</mo><mi>x</mi></mrow></mrow></msup></mrow><annotation encoding="application/x-tex">-e^{-\lambda x}</annotation></semantics></math>. Exponential utility functions are very
often used by economists and are very useful in continuous time
models. All the results proved in this section, are also valid for
exponential utility functions with some appropriate simple
modifications.</p>
</div>
<div id="S3.SS1.p14" class="ltx_para">
<p class="ltx_p">Let us now try to formalise the risk-aversion property of a utility function. This is done by the <span class="ltx_text ltx_font_bold">Arrow-Pratt coefficients of risk aversion</span>.</p>
<p class="ltx_p ltx_align_center"><math id="S3.SS1.p14.m1" class="ltx_Math ltx_framed ltx_framed_rectangle" display="block"><mrow><mrow><mrow><mtext>Coefficient of </mtext><mtext class="ltx_mathvariant_bold">Absolute Risk Aversion:</mtext></mrow><mo>⁢</mo><mi>a</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mo>−</mo><mstyle displaystyle="false"><mfrac><mrow><msup><mi>U</mi><mo>′′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mrow><msup><mi>U</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow></math></p>
<p class="ltx_p">Notice that due to the last two properties of a risk averse utility function, the above coefficient is always positive. In fact the only reason for the presence of the first derivative in the coefficient is to ensure the same coefficient of absolute risk aversion for all equivalent utility functions. In an investment problem, absolute risk-aversion measures the actual amount in pounds that an investor will choose to hold in risky assets, given a certain wealth level <math id="S3.SS1.p14.m2" class="ltx_Math" alttext="x" display="inline"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p15" class="ltx_para">
<p class="ltx_p">Similarly the coefficient of relative risk aversion is defined.</p>
<p class="ltx_p ltx_align_center"><math id="S3.SS1.p15.m1" class="ltx_Math ltx_framed ltx_framed_rectangle" display="block"><mrow><mrow><mrow><mtext>Coefficient of </mtext><mtext class="ltx_mathvariant_bold">Relative Risk Aversion:</mtext></mrow><mo>⁢</mo><mi>r</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mo>−</mo><mstyle displaystyle="false"><mfrac><mrow><mi>x</mi><mo>⁢</mo><msup><mi>U</mi><mo>′′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mrow><msup><mi>U</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow></math></p>
<p class="ltx_p">In financial terms, the coefficient of relative risk-aversion measures the percentage of wealth held in risky assets, for a given wealth level <math id="S3.SS1.p15.m2" class="ltx_Math" alttext="x" display="inline"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p16" class="ltx_para">
<p class="ltx_p">It is clear that different utility functions exhibit different risk aversion properties. For example, the exponential utility function has a <span class="ltx_text ltx_font_bold">Constant Absolute Risk Aversion</span> coefficient <span class="ltx_text ltx_font_bold">(CARA)</span> <math id="S3.SS1.p16.m1" class="ltx_Math" alttext="a(x)=\lambda" display="inline"><semantics><mrow><mrow><mi>a</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mi>λ</mi></mrow><annotation encoding="application/x-tex">a(x)=\lambda</annotation></semantics></math>. It also has an <span class="ltx_text ltx_font_bold">Increasing Relative Risk Aversion (IRRA)</span> <math id="S3.SS1.p16.m2" class="ltx_Math" alttext="r(x)=x\lambda" display="inline"><semantics><mrow><mrow><mi>r</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>x</mi><mo>⁢</mo><mi>λ</mi></mrow></mrow><annotation encoding="application/x-tex">r(x)=x\lambda</annotation></semantics></math>. On the other hand the logarithmic utility function has a <span class="ltx_text ltx_font_bold">Decreasing Absolute Risk Aversion (DARA)</span> <math id="S3.SS1.p16.m3" class="ltx_Math" alttext="a(x)=1/x" display="inline"><semantics><mrow><mrow><mi>a</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mn>1</mn><mo>/</mo><mi>x</mi></mrow></mrow><annotation encoding="application/x-tex">a(x)=1/x</annotation></semantics></math> and a <span class="ltx_text ltx_font_bold">Constant Relative Risk Aversion (CRRA)</span> coefficient <math id="S3.SS1.p16.m4" class="ltx_Math" alttext="r(x)=1" display="inline"><semantics><mrow><mrow><mi>r</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">r(x)=1</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p17" class="ltx_para">
<p class="ltx_p">Using the concept introduced above, the question of finding the
optimal investment into our market now translates into the question
of finding a trading strategy <math id="S3.SS1.p17.m1" class="ltx_Math" alttext="(x,\phi)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\phi)</annotation></semantics></math> s.t.
<math id="S3.SS1.p17.m2" class="ltx_math_unparsed" alttext="\mathbb{E}(u(V_{1}(x,\phi))" display="inline"><semantics><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><mi>u</mi><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\mathbb{E}(u(V_{1}(x,\phi))</annotation></semantics></math> achieves an optimal value. This problem
is called the <span class="ltx_text ltx_font_bold">optimal portfolio problem</span>. The optimal value
will naturally depend on the initial investment <math id="S3.SS1.p17.m3" class="ltx_Math" alttext="x" display="inline"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>. A higher
initial investment will naturally result in a higher expected
utility, so we have to take the initial investment as a parameter
for our problem.</p>
</div>
<div id="S3.SS1.Thmtheorem2" class="ltx_theorem ltx_theorem_definition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Definition 3.1.2</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S3.SS1.Thmtheorem2.p1" class="ltx_para">
<p class="ltx_p">A trading strategy <math id="S3.SS1.Thmtheorem2.p1.m1" class="ltx_Math" alttext="(x,\phi^{*})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\phi^{*})</annotation></semantics></math> is called a solution for the optimal portfolio problem with initial investment <math id="S3.SS1.Thmtheorem2.p1.m2" class="ltx_Math" alttext="x" display="inline"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> and utility function <math id="S3.SS1.Thmtheorem2.p1.m3" class="ltx_Math" alttext="u" display="inline"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math>, if</p>
<div id="S3.SS1.E1" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.E1.m1" class="ltx_math_unparsed" alttext="\mathbb{E}(u(V_{1}(x,\phi^{*}))=\max_{\phi}\mathbb{E}\big{(}u(V_{1}(x,\phi))%
\big{)}" display="block"><semantics><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><mi>u</mi><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow><mo>=</mo><munder><mi>max</mi><mi>ϕ</mi></munder><mi>𝔼</mi><mrow><mo maxsize="120%" minsize="120%">(</mo><mi>u</mi><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow><mo maxsize="120%" minsize="120%">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\mathbb{E}(u(V_{1}(x,\phi^{*}))=\max_{\phi}\mathbb{E}\big{(}u(V_{1}(x,\phi))%
\big{)}</annotation></semantics></math></span>
                <span class="ltx_tag ltx_tag_equation ltx_align_right">(3.1.1)</span>
                
                
              
</div>
</div>
</div>
<div id="S3.SS1.p18" class="ltx_para">
<p class="ltx_p">It is not clear whether a solution to the optimal portfolio problem exists. That depends in general on the particular model and the chosen utility function.</p>
</div>
<div id="S3.SS1.p19" class="ltx_para">
<p class="ltx_p">An interesting relationship is the relationship between the existence of a solution to the optimal portfolio problem and the existence of an arbitrage. Assume for the moment, that there exists an arbitrage <math id="S3.SS1.p19.m1" class="ltx_Math" alttext="(0,\psi)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mi>ψ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,\psi)</annotation></semantics></math> in our model. Then for every trading strategy <math id="S3.SS1.p19.m2" class="ltx_Math" alttext="(x,\phi)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\phi)</annotation></semantics></math> we would have</p>
<div id="S3.SS1.Ex5" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.Ex5.m1" class="ltx_Math" alttext="V_{1}(x,\phi+\psi)(\omega)=V_{1}(x,\phi)(\omega)+V_{1}(0,\psi)(\omega)\geq V_{%
1}(x,\phi)(\omega)," display="block"><semantics><mrow><mrow><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mrow><mi>ϕ</mi><mo>+</mo><mi>ψ</mi></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mi>ψ</mi><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow></mrow><mo>≥</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">V_{1}(x,\phi+\psi)(\omega)=V_{1}(x,\phi)(\omega)+V_{1}(0,\psi)(\omega)\geq V_{%
1}(x,\phi)(\omega),</annotation></semantics></math></span>
</div>
<p class="ltx_p">where <math id="S3.SS1.p19.m3" class="ltx_Math" alttext="(x,\phi+\psi)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mrow><mi>ϕ</mi><mo>+</mo><mi>ψ</mi></mrow><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\phi+\psi)</annotation></semantics></math> is the trading strategy given by the sum of <math id="S3.SS1.p19.m4" class="ltx_Math" alttext="(x,\phi)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\phi)</annotation></semantics></math> and <math id="S3.SS1.p19.m5" class="ltx_Math" alttext="(0,\psi)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mi>ψ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,\psi)</annotation></semantics></math>, i.e. the trading strategy which buys <math id="S3.SS1.p19.m6" class="ltx_Math" alttext="\phi^{i}+\psi^{i}" display="inline"><semantics><mrow><msup><mi>ϕ</mi><mi>i</mi></msup><mo>+</mo><msup><mi>ψ</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">\phi^{i}+\psi^{i}</annotation></semantics></math> shares of the <math id="S3.SS1.p19.m7" class="ltx_Math" alttext="i" display="inline"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>-th stock. By the definition of an arbitrage, this strategy needs an initial investment of <math id="S3.SS1.p19.m8" class="ltx_Math" alttext="x" display="inline"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>. That the inequality above holds is also a result of <math id="S3.SS1.p19.m9" class="ltx_Math" alttext="(0,\psi)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mi>ψ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,\psi)</annotation></semantics></math> being an arbitrage, but we can say even more, the inequality above is strict for at least one <math id="S3.SS1.p19.m10" class="ltx_Math" alttext="\omega" display="inline"><semantics><mi>ω</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math>. Therefore for any risk averse utility function <math id="S3.SS1.p19.m11" class="ltx_Math" alttext="u" display="inline"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math> we have</p>
<div id="S3.SS1.Ex6" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.Ex6.m1" class="ltx_Math" alttext="\mathbb{E}(u(V_{1}(x,\phi+\psi)))&gt;\mathbb{E}(u(V_{1}(x)))." display="block"><semantics><mrow><mrow><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mrow><mi>ϕ</mi><mo>+</mo><mi>ψ</mi></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>&gt;</mo><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\mathbb{E}(u(V_{1}(x,\phi+\psi)))&gt;\mathbb{E}(u(V_{1}(x))).</annotation></semantics></math></span>
</div>
<p class="ltx_p">Hence in the presence of an arbitrage for every strategy <math id="S3.SS1.p19.m12" class="ltx_Math" alttext="(x,\phi)" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\phi)</annotation></semantics></math> there is another strategy with same initial investment which does perform strictly better. Consequently, if there is an arbitrage in the market then there is no solution to the optimal portfolio problem or in other words:</p>
</div>
<div id="S3.SS1.Thmtheorem3" class="ltx_theorem ltx_theorem_proposition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Proposition 3.1.3</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S3.SS1.Thmtheorem3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">If there exists a solution to the optimal portfolio problem then there can not exist an arbitrage in the market.</span></p>
</div>
</div>
<div id="S3.SS1.p20" class="ltx_para">
<p class="ltx_p">We already know by the fundamental theorem of asset pricing that the no arbitrage property is equivalent to the existence of a risk neutral measure. Such a risk neutral measure can be explicitly computed from a solution to the optimal portfolio problem as the following proposition shows.</p>
</div>
<div id="S3.SS1.Thmtheorem4" class="ltx_theorem ltx_theorem_proposition">

<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem header-section-number"><span class="ltx_text ltx_font_bold">Proposition 3.1.4</span></span><span class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S3.SS1.Thmtheorem4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Let <math id="S3.SS1.Thmtheorem4.p1.m1" class="ltx_Math" alttext="(x,\phi^{*})" display="inline"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\phi^{*})</annotation></semantics></math> be a solution to the optimal portfolio problem with initial wealth <math id="S3.SS1.Thmtheorem4.p1.m2" class="ltx_Math" alttext="x" display="inline"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> and utility function <math id="S3.SS1.Thmtheorem4.p1.m3" class="ltx_Math" alttext="u" display="inline"><semantics><mi>u</mi><annotation encoding="application/x-tex">u</annotation></semantics></math>, then the measure <math id="S3.SS1.Thmtheorem4.p1.m4" class="ltx_Math" alttext="\mathbb{Q}" display="inline"><semantics><mi>ℚ</mi><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math> defined by</span></p>
<div id="S3.SS1.Ex7" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.Ex7.m1" class="ltx_math_unparsed" alttext="\mathbb{Q}(\omega)=\frac{\mathbb{P}(\omega)u^{\prime}(V_{1}(x,\phi^{*})(\omega%
))}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))},\quad\omega\in\Omega," display="block"><semantics><mrow><mrow><mrow><mrow><mi>ℚ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mfrac><mrow><mi>ℙ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><msup><mi>u</mi><mo>′</mo></msup><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mfrac></mrow><mo rspace="1.267em">,</mo><mrow><mi>ω</mi><mo>∈</mo><mi mathvariant="normal">Ω</mi></mrow></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">\mathbb{Q}(\omega)=\frac{\mathbb{P}(\omega)u^{\prime}(V_{1}(x,\phi^{*})(\omega%
))}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))},\quad\omega\in\Omega,</annotation></semantics></math></span>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">is a risk neutral probability measure.</span></p>
</div>
</div>
<div class="ltx_proof">

<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div id="S3.SS1.p21" class="ltx_para">
<p class="ltx_p">That <math id="S3.SS1.p21.m1" class="ltx_Math" alttext="\mathbb{Q}" display="inline"><semantics><mi>ℚ</mi><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math> is indeed a probability measure follows from <math id="S3.SS1.p21.m2" class="ltx_Math" alttext="\mathbb{Q}(\omega)&gt;0" display="inline"><semantics><mrow><mrow><mi>ℚ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow></mrow><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\mathbb{Q}(\omega)&gt;0</annotation></semantics></math> for all <math id="S3.SS1.p21.m3" class="ltx_Math" alttext="\omega" display="inline"><semantics><mi>ω</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math>
(recall that <math id="S3.SS1.p21.m4" class="ltx_Math" alttext="u^{\prime}(x)&gt;0" display="inline"><semantics><mrow><mrow><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">u^{\prime}(x)&gt;0</annotation></semantics></math> for all <math id="S3.SS1.p21.m5" class="ltx_Math" alttext="x" display="inline"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>) and</p>
<div class="bml-overflow-wrapper">
<table id="S4.EGx30" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.SS1.Ex12">
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.SS1.Ex8.m1" class="ltx_Math" alttext="\displaystyle\sum_{i=1}^{k}\mathbb{Q}(\omega_{i})" display="inline"><semantics><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mrow><mi>ℚ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{i=1}^{k}\mathbb{Q}(\omega_{i})</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex8.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex8.m3" class="ltx_math_unparsed" alttext="\displaystyle\sum_{i=1}^{k}\frac{\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi%
^{*})(\omega_{i}))}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}" display="inline"><semantics><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mstyle displaystyle="true"><mfrac><mrow><mi>ℙ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><msup><mi>u</mi><mo>′</mo></msup><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{i=1}^{k}\frac{\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi%
^{*})(\omega_{i}))}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex9.m1" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex9.m2" class="ltx_math_unparsed" alttext="\displaystyle\frac{1}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}\sum_{i=1}^{k}%
\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi^{*})(\omega_{i}))" display="inline"><semantics><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><msup><mi>u</mi><mo>′</mo></msup><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mrow><mi>ℙ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\frac{1}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}\sum_{i=1}^{k}%
\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi^{*})(\omega_{i}))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex11.m1" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex11.m2" class="ltx_math_unparsed" alttext="\displaystyle\frac{1}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}\mathbb{E}(u^{%
\prime}(V_{1}(x,\phi^{*}))" display="inline"><semantics><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><msup><mi>u</mi><mo>′</mo></msup><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mfrac></mstyle><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><msup><mi>u</mi><mo>′</mo></msup><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\frac{1}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}\mathbb{E}(u^{%
\prime}(V_{1}(x,\phi^{*}))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex12.m1" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex12.m2" class="ltx_Math" alttext="\displaystyle 1." display="inline"><semantics><mrow><mn>1</mn><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\displaystyle 1.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="S3.SS1.p22" class="ltx_para">
<p class="ltx_p">It remains to prove that <math id="S3.SS1.p22.m1" class="ltx_Math" alttext="\mathbb{Q}" display="inline"><semantics><mi>ℚ</mi><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math> satisfies condition 2. of Definition <a href="Pt3.html#S1.SS2.Thmtheorem7" title="Definition 1.2.7. ‣ Lecture III 15/10/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1.2.7</span></a>. We know that the function</p>
<div id="S3.SS1.Ex13" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.Ex13.m1" class="ltx_Math" alttext="\phi\mapsto\mathbb{E}(u(V_{1}(x,\phi))),\quad\phi\in\mathbb{R}^{n}," display="block"><semantics><mrow><mrow><mrow><mi>ϕ</mi><mo stretchy="false">↦</mo><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow><mo rspace="1.267em">,</mo><mrow><mi>ϕ</mi><mo>∈</mo><msup><mi>ℝ</mi><mi>n</mi></msup></mrow></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">\phi\mapsto\mathbb{E}(u(V_{1}(x,\phi))),\quad\phi\in\mathbb{R}^{n},</annotation></semantics></math></span>
</div>
<p class="ltx_p">is differentiable and attains its maximum at a point <math id="S3.SS1.p22.m2" class="ltx_Math" alttext="\phi^{*}\in\mathbb{R}^{n}" display="inline"><semantics><mrow><msup><mi>ϕ</mi><mo>∗</mo></msup><mo>∈</mo><msup><mi>ℝ</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\phi^{*}\in\mathbb{R}^{n}</annotation></semantics></math>. Therefore all partial derivatives of this function must vanish at the point <math id="S3.SS1.p22.m3" class="ltx_Math" alttext="\phi^{*}" display="inline"><semantics><msup><mi>ϕ</mi><mo>∗</mo></msup><annotation encoding="application/x-tex">\phi^{*}</annotation></semantics></math>. This leads to the following equations:</p>
<div id="S3.SS1.E2" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.E2.m1" class="ltx_math_unparsed" alttext="0=\left.\frac{\partial}{\partial\phi_{j}}\mathbb{E}\Big{(}u\big{(}B_{1}(x+\phi%
^{1}\Delta\hat{S}^{1}(\omega_{i})+...+\phi^{n}\Delta\hat{S}^{n}(\omega_{i}))%
\big{)}\Big{)}\right|_{\phi=\phi^{*}},\quad j=1,..n," display="block"><semantics><mrow><mn>0</mn><mo>=</mo><mfrac><mo>∂</mo><mrow><mo rspace="0em">∂</mo><msub><mi>ϕ</mi><mi>j</mi></msub></mrow></mfrac><mi>𝔼</mi><mrow><mo maxsize="160%" minsize="160%">(</mo><mi>u</mi><mrow><mo maxsize="120%" minsize="120%">(</mo><msub><mi>B</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><msup><mi>ϕ</mi><mn>1</mn></msup><mi mathvariant="normal">Δ</mi><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mn>1</mn></msup><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>+</mo><mi mathvariant="normal">…</mi><mo>+</mo><msup><mi>ϕ</mi><mi>n</mi></msup><mi mathvariant="normal">Δ</mi><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>n</mi></msup><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow><mo maxsize="120%" minsize="120%">)</mo></mrow><mo maxsize="160%" minsize="160%">)</mo></mrow><msub><mo fence="false" rspace="0.167em">|</mo><mrow><mi>ϕ</mi><mo>=</mo><msup><mi>ϕ</mi><mo>∗</mo></msup></mrow></msub><mo rspace="1.267em">,</mo><mi>j</mi><mo>=</mo><mn>1</mn><mo>,</mo><mo lspace="0em" rspace="0.0835em">.</mo><mo lspace="0.0835em" rspace="0.167em">.</mo><mi>n</mi><mo>,</mo></mrow><annotation encoding="application/x-tex">0=\left.\frac{\partial}{\partial\phi_{j}}\mathbb{E}\Big{(}u\big{(}B_{1}(x+\phi%
^{1}\Delta\hat{S}^{1}(\omega_{i})+...+\phi^{n}\Delta\hat{S}^{n}(\omega_{i}))%
\big{)}\Big{)}\right|_{\phi=\phi^{*}},\quad j=1,..n,</annotation></semantics></math></span>
                <span class="ltx_tag ltx_tag_equation ltx_align_right">(3.1.2)</span>
                
                
              
</div>
<p class="ltx_p">since using the well known identities <math id="S3.SS1.p22.m4" class="ltx_Math" alttext="V_{1}(x,\phi)=B_{1}\hat{V}_{1}(x,\phi)" display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mi>B</mi><mn>1</mn></msub><mo>⁢</mo><msub><mover accent="true"><mi>V</mi><mo>^</mo></mover><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">V_{1}(x,\phi)=B_{1}\hat{V}_{1}(x,\phi)</annotation></semantics></math> and <math id="S3.SS1.p22.m5" class="ltx_Math" alttext="\hat{V}_{1}(x,\phi)=x+\hat{G}(x,\phi)" display="inline"><semantics><mrow><mrow><msub><mover accent="true"><mi>V</mi><mo>^</mo></mover><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>x</mi><mo>+</mo><mrow><mover accent="true"><mi>G</mi><mo>^</mo></mover><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\hat{V}_{1}(x,\phi)=x+\hat{G}(x,\phi)</annotation></semantics></math> we have</p>
<div id="S3.SS1.E3" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.E3.m1" class="ltx_Math" alttext="\mathbb{E}(u(V_{1}(x,\phi)))=\mathbb{E}(u(B_{1}(x+\phi^{1}\Delta\hat{S}^{1}+..%
.+\phi^{n}\Delta\hat{S}^{n})))." display="block"><semantics><mrow><mrow><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>𝔼</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>u</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>B</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>x</mi><mo>+</mo><mrow><msup><mi>ϕ</mi><mn>1</mn></msup><mo>⁢</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mn>1</mn></msup></mrow><mo>+</mo><mi mathvariant="normal">…</mi><mo>+</mo><mrow><msup><mi>ϕ</mi><mi>n</mi></msup><mo>⁢</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>n</mi></msup></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\mathbb{E}(u(V_{1}(x,\phi)))=\mathbb{E}(u(B_{1}(x+\phi^{1}\Delta\hat{S}^{1}+..%
.+\phi^{n}\Delta\hat{S}^{n}))).</annotation></semantics></math></span>
                <span class="ltx_tag ltx_tag_equation ltx_align_right">(3.1.3)</span>
                
                
              
</div>
<p class="ltx_p">Computing derivatives in (<a href="#S3.SS1.E2" title="In 3.1. Single Period Investment ‣ 3. Investment ‣ Lecture VII 12/11/2024 ‣ Lecture notes: Discrete Time Finance (MATH5320M)" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1.2</span></a>) gives:</p>
<div class="bml-overflow-wrapper">
<table id="S4.EGx31" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.SS1.Ex14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.SS1.Ex14.m1" class="ltx_Math" alttext="\displaystyle 0" display="inline"><semantics><mn>0</mn><annotation encoding="application/x-tex">\displaystyle 0</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex14.m2" class="ltx_Math" alttext="\displaystyle=\sum_{i=1}^{k}\mathbb{P}(\omega_{i})u^{\prime}(B_{1}(x+\phi^{*1}%
\Delta\hat{S}^{1}(\omega_{i})+...+\phi^{*n}\Delta\hat{S}^{n}(\omega_{i})))%
\cdot B_{1}\cdot\Delta\hat{S}^{j}(\omega_{i})" display="inline"><semantics><mrow><mi></mi><mo>=</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mrow><mrow><mrow><mi>ℙ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>B</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>x</mi><mo>+</mo><mrow><msup><mi>ϕ</mi><mrow><mi></mi><mo lspace="0.222em" rspace="0.222em">∗</mo><mn>1</mn></mrow></msup><mo>⁢</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mn>1</mn></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo>+</mo><mi mathvariant="normal">…</mi><mo>+</mo><mrow><msup><mi>ϕ</mi><mrow><mi></mi><mo lspace="0.222em" rspace="0.222em">∗</mo><mi>n</mi></mrow></msup><mo>⁢</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>n</mi></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo rspace="0.055em" stretchy="false">)</mo></mrow></mrow><mo rspace="0.222em">⋅</mo><msub><mi>B</mi><mn>1</mn></msub><mo lspace="0.222em" rspace="0.222em">⋅</mo><mi mathvariant="normal">Δ</mi></mrow><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>j</mi></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle=\sum_{i=1}^{k}\mathbb{P}(\omega_{i})u^{\prime}(B_{1}(x+\phi^{*1}%
\Delta\hat{S}^{1}(\omega_{i})+...+\phi^{*n}\Delta\hat{S}^{n}(\omega_{i})))%
\cdot B_{1}\cdot\Delta\hat{S}^{j}(\omega_{i})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.SS1.Ex15"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex15.m1" class="ltx_Math" alttext="\displaystyle=B_{1}\cdot\sum_{i=1}^{k}\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x%
,\phi^{*}))\cdot\Delta\hat{S}^{j}(\omega_{i}),\qquad j=1,\ldots,n." display="inline"><semantics><mrow><mrow><mrow><mi></mi><mo>=</mo><mrow><msub><mi>B</mi><mn>1</mn></msub><mo lspace="0.222em" rspace="0.222em">⋅</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mrow><mrow><mrow><mi>ℙ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow></mrow><mo rspace="0.055em" stretchy="false">)</mo></mrow></mrow><mo rspace="0.222em">⋅</mo><mi mathvariant="normal">Δ</mi></mrow><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>j</mi></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></mrow><mo rspace="2.357em">,</mo><mrow><mi>j</mi><mo>=</mo><mrow><mn>1</mn><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><mi>n</mi></mrow></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\displaystyle=B_{1}\cdot\sum_{i=1}^{k}\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x%
,\phi^{*}))\cdot\Delta\hat{S}^{j}(\omega_{i}),\qquad j=1,\ldots,n.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<p class="ltx_p">Since <math id="S3.SS1.p22.m6" class="ltx_Math" alttext="B_{1}=1+r&gt;0" display="inline"><semantics><mrow><msub><mi>B</mi><mn>1</mn></msub><mo>=</mo><mrow><mn>1</mn><mo>+</mo><mi>r</mi></mrow><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">B_{1}=1+r&gt;0</annotation></semantics></math> this is equivalent to</p>
<div id="S3.SS1.Ex16" class="ltx_equation ltx_eqn_div">
<span><math id="S3.SS1.Ex16.m1" class="ltx_Math" alttext="0=\sum_{i=1}^{k}\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi^{*}))\cdot\Delta%
\hat{S}^{j}(\omega_{i}),\quad j=1,\ldots,n." display="block"><semantics><mrow><mrow><mrow><mn>0</mn><mo rspace="0.111em">=</mo><mrow><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mrow><mrow><mrow><mi>ℙ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow></mrow><mo rspace="0.055em" stretchy="false">)</mo></mrow></mrow><mo rspace="0.222em">⋅</mo><mi mathvariant="normal">Δ</mi></mrow><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>j</mi></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow><mo rspace="1.267em">,</mo><mrow><mi>j</mi><mo>=</mo><mrow><mn>1</mn><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><mi>n</mi></mrow></mrow></mrow><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">0=\sum_{i=1}^{k}\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi^{*}))\cdot\Delta%
\hat{S}^{j}(\omega_{i}),\quad j=1,\ldots,n.</annotation></semantics></math></span>
</div>
<p class="ltx_p">This implies that for <math id="S3.SS1.p22.m7" class="ltx_Math" alttext="j=1,\ldots,n" display="inline"><semantics><mrow><mi>j</mi><mo>=</mo><mrow><mn>1</mn><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><mi>n</mi></mrow></mrow><annotation encoding="application/x-tex">j=1,\ldots,n</annotation></semantics></math></p>
<div class="bml-overflow-wrapper">
<table id="S4.EGx32" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.SS1.Ex20">
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.SS1.Ex17.m1" class="ltx_Math" alttext="\displaystyle\mathbb{E}_{\mathbb{Q}}(\Delta\hat{S}^{j})" display="inline"><semantics><mrow><msub><mi>𝔼</mi><mi>ℚ</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>j</mi></msup></mrow><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\mathbb{E}_{\mathbb{Q}}(\Delta\hat{S}^{j})</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex17.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex17.m3" class="ltx_Math" alttext="\displaystyle\sum_{i=1}^{k}\mathbb{Q}(\omega_{i})\Delta\hat{S}^{j}(\omega_{i})" display="inline"><semantics><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mrow><mi>ℚ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>j</mi></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{i=1}^{k}\mathbb{Q}(\omega_{i})\Delta\hat{S}^{j}(\omega_{i})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex18.m1" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex18.m2" class="ltx_math_unparsed" alttext="\displaystyle\sum_{i=1}^{k}\frac{\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi%
^{*})(\omega_{i}))}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}\cdot\Delta\hat{S%
}^{j}(\omega_{i})" display="inline"><semantics><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mrow><mrow><mstyle displaystyle="true"><mfrac><mrow><mi>ℙ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><msup><mi>u</mi><mo>′</mo></msup><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo lspace="0.222em" rspace="0.222em">⋅</mo><mi mathvariant="normal">Δ</mi></mrow><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>j</mi></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{i=1}^{k}\frac{\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi%
^{*})(\omega_{i}))}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}\cdot\Delta\hat{S%
}^{j}(\omega_{i})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex19.m1" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex19.m2" class="ltx_math_unparsed" alttext="\displaystyle\frac{1}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}\sum_{i=1}^{k}%
\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi^{*})(\omega_{i}))\cdot\Delta\hat%
{S}^{j}(\omega_{i})" display="inline"><semantics><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><mrow><mi>𝔼</mi><mrow><mo stretchy="false">(</mo><msup><mi>u</mi><mo>′</mo></msup><mrow><mo stretchy="false">(</mo><msub><mi>V</mi><mn>1</mn></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo>⁢</mo><mrow><mstyle displaystyle="true"><munderover><mo movablelimits="false">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mrow><mrow><mrow><mi>ℙ</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msup><mi>u</mi><mo>′</mo></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>V</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><msup><mi>ϕ</mi><mo>∗</mo></msup><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo rspace="0.055em" stretchy="false">)</mo></mrow></mrow><mo rspace="0.222em">⋅</mo><mi mathvariant="normal">Δ</mi></mrow><mo>⁢</mo><msup><mover accent="true"><mi>S</mi><mo>^</mo></mover><mi>j</mi></msup><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex">\displaystyle\frac{1}{\mathbb{E}(u^{\prime}(V_{1}(x,\phi^{*}))}\sum_{i=1}^{k}%
\mathbb{P}(\omega_{i})u^{\prime}(V_{1}(x,\phi^{*})(\omega_{i}))\cdot\Delta\hat%
{S}^{j}(\omega_{i})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.SS1.Ex20.m1" class="ltx_Math" alttext="\displaystyle=" display="inline"><semantics><mo>=</mo><annotation encoding="application/x-tex">\displaystyle=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.SS1.Ex20.m2" class="ltx_Math" alttext="\displaystyle 0." display="inline"><semantics><mrow><mn>0</mn><mo lspace="0em">.</mo></mrow><annotation encoding="application/x-tex">\displaystyle 0.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<p class="ltx_p">∎</p>
</div>
</div>
<div id="S3.SS1.p23" class="ltx_para">
<p class="ltx_p">Notice that risk neutral measures pop up both in pricing and replication, and in optimal portfolio selection. This hints that these problems are deeply interconnected. We will pursue this issue after the example which shows how optimal portfolios can be computed explicitly in our general single period market model.</p>
</div>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
</div>
</div>
<a href="Pt6.html" class="navigation navigation-prev" aria-label="Previous page"><i class="fa fa-angle-left"></i></a><a href="Pt8.html" class="navigation navigation-next" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
</div>
</div>
<script src="bookml/gitbook/js/app.min.js"></script>
<script src="bookml/gitbook/js/jquery.highlight.js"></script>
<script src="bookml/gitbook/js/plugin-search.js"></script>
<script src="bookml/gitbook/js/plugin-fontsettings.js"></script>
<script src="bookml/gitbook/js/plugin-bookdown.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script>
        MathJax = {
          startup: {
            ready() {
              // do not process equations disabled with \bmlDisableMathJax (code suggested by Davide P. Cervone)
              class bmlFindMathML extends MathJax._.input.mathml.FindMathML.FindMathML {
                processMath(set) {
                  const adaptor = this.adaptor;
                  for (const node of set.values()) {
                    if (adaptor.hasClass(node, 'bml_disable_mathjax')) {
                      set.delete(node);
                    }
                  }
                  return super.processMath(set);
                }
              }

              MathJax._.components.global.combineDefaults(MathJax.config, 'mml', {FindMathML: new bmlFindMathML()});

              MathJax.startup.defaultReady();

              // preproces MathML to make MathJax aware of certain LaTeXML and BookML additional info
              const mmlFilters = MathJax.startup.input[0].mmlFilters;

              // convert the LaTeXML calligraphic (chancery) annotation to a form MathJax understands
              // since the corresponding Unicode characters render as script (rounded)
              const script2latin = {
                '𝒜': 'A', 'ℬ': 'B', '𝒞': 'C', '𝒟': 'D', 'ℰ': 'E', 'ℱ': 'F', '𝒢': 'G',
                'ℋ': 'H', 'ℐ': 'I', '𝒥': 'J', '𝒦': 'K', 'ℒ': 'L', 'ℳ': 'M', '𝒩': 'N',
                '𝒪': 'O', '𝒫': 'P', '𝒬': 'Q', 'ℛ': 'R', '𝒮': 'S', '𝒯': 'T', '𝒰': 'U',
                '𝒱': 'V', '𝒲': 'W', '𝒳': 'X', '𝒴': 'Y', '𝒵': 'Z',
              };

              mmlFilters.add((args) => {
                for (const n of args.data.getElementsByClassName('ltx_font_mathcaligraphic')) {
                  n.classList.add('MJX-tex-calligraphic');
                  const letter = script2latin[n.textContent];
                  if (letter !== undefined) { n.textContent = letter; }
                }
              });

              // adjust characters based on Unicode variation sequences
              const replacements = {
                // MathJax renders the empty set as the U+FE00 variant, so the plain character needs adjusting
                '∅': { variant: 'variant' },
                // MathJax renders script characters in rounded style, which is fine for no variation and U+FE00
                '𝒜\xFE00': { text: 'A', variant: 'tex-calligraphic' },
                'ℬ\xFE00': { text: 'B', variant: 'tex-calligraphic' },
                '𝒞\xFE00': { text: 'C', variant: 'tex-calligraphic' },
                '𝒟\xFE00': { text: 'D', variant: 'tex-calligraphic' },
                'ℰ\xFE00': { text: 'E', variant: 'tex-calligraphic' },
                'ℱ\xFE00': { text: 'F', variant: 'tex-calligraphic' },
                '𝒢\xFE00': { text: 'G', variant: 'tex-calligraphic' },
                'ℋ\xFE00': { text: 'H', variant: 'tex-calligraphic' },
                'ℐ\xFE00': { text: 'I', variant: 'tex-calligraphic' },
                '𝒥\xFE00': { text: 'J', variant: 'tex-calligraphic' },
                '𝒦\xFE00': { text: 'K', variant: 'tex-calligraphic' },
                'ℒ\xFE00': { text: 'L', variant: 'tex-calligraphic' },
                'ℳ\xFE00': { text: 'M', variant: 'tex-calligraphic' },
                '𝒩\xFE00': { text: 'N', variant: 'tex-calligraphic' },
                '𝒪\xFE00': { text: 'O', variant: 'tex-calligraphic' },
                '𝒫\xFE00': { text: 'P', variant: 'tex-calligraphic' },
                '𝒬\xFE00': { text: 'Q', variant: 'tex-calligraphic' },
                'ℛ\xFE00': { text: 'R', variant: 'tex-calligraphic' },
                '𝒮\xFE00': { text: 'S', variant: 'tex-calligraphic' },
                '𝒯\xFE00': { text: 'T', variant: 'tex-calligraphic' },
                '𝒰\xFE00': { text: 'U', variant: 'tex-calligraphic' },
                '𝒱\xFE00': { text: 'V', variant: 'tex-calligraphic' },
                '𝒲\xFE00': { text: 'W', variant: 'tex-calligraphic' },
                '𝒳\xFE00': { text: 'X', variant: 'tex-calligraphic' },
                '𝒴\xFE00': { text: 'Y', variant: 'tex-calligraphic' },
                '𝒵\xFE00': { text: 'Z', variant: 'tex-calligraphic' }
              };

              mmlFilters.add((args) => {
                let nodes = document.evaluate('.//m:mi | .//m:mn | .//m:mo | .//m:ms', args.data,
                  () => 'http://www.w3.org/1998/Math/MathML', XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE);
                for (let i = 0; i < nodes.snapshotLength; i++) {
                  const n = nodes.snapshotItem(i);
                  const repl = replacements[n.innerHTML];
                  if (repl !== undefined) {
                    const variant = repl['variant'];
                    const text = repl['text'];
                    if (variant !== undefined) { n.classList.add('MJX-' + variant); n.removeAttribute('mathvariant'); }
                    if (text !== undefined) { n.innerHTML = text; }
                  }
                }
              });
            }
          }
        };
      </script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/mml-chtml.js"></script>
<script type="text/javascript">
                gitbook.require(["gitbook"], function(gitbook) {
                gitbook.start({
                  "fontsettings": {
                    "theme": "white",
                    "family": "sans",
                    "size": 2
                  },
                  "download": [ [ "DiscreteTimeFinance.pdf", "PDF (serif)" ], [ "DiscreteTimeFinance-sans.pdf", "PDF (sans serif)" ], [ "DiscreteTimeFinance-sans-large.pdf", "PDF (sans serif, large)" ], ],
                  "search": {
                    "engine": "fuse"
                  },
                  "toc": {
                    "collapse": "none"
                  }
                });
              });
            </script>
</body>

</html>
